<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AfriTrade Connect | Tanzania-Zimbabwe Clothing Business</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #1a365d;
            --secondary: #2b6cb0;
            --accent: #e53e3e;
            --success: #38a169;
            --warning: #d69e2e;
            --light: #f7fafc;
            --dark: #2d3748;
            --sidebar: #2d3748;
            --sidebar-hover: #4a5568;
            --header: #1a202c;
            --card-bg: #ffffff;
            --text: #2d3748;
            --text-light: #718096;
            --border: #e2e8f0;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --gradient: linear-gradient(135deg, #1a365d 0%, #2d3748 100%);
            --gradient-light: linear-gradient(135deg, #2b6cb0 0%, #3182ce 100%);
            --zim-gradient: linear-gradient(135deg, #009739 0%, #ffca08 50%, #de2110 100%);
            --tza-gradient: linear-gradient(135deg, #1eb53a 0%, #00a3dd 33%, #00a3dd 66%, #1eb53a 100%);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: #f7fafc;
            color: var(--text);
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            display: flex;
            width: 100%;
            min-height: 100vh;
        }

        /* Sidebar Styles */
        .sidebar {
            width: 280px;
            background: var(--sidebar);
            color: white;
            transition: all 0.3s ease;
            box-shadow: var(--shadow);
            z-index: 100;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
        }

        .sidebar-header {
            padding: 25px 20px;
            background: var(--gradient);
            text-align: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .sidebar-header h2 {
            font-size: 1.5rem;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-weight: 700;
        }

        .sidebar-header p {
            font-size: 0.85rem;
            opacity: 0.9;
        }

        .location-badge {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.75rem;
            margin: 0 2px;
        }

        .location-tz {
            background: rgba(30, 181, 58, 0.2);
            color: #1eb53a;
        }

        .location-zw {
            background: rgba(255, 202, 8, 0.2);
            color: #ffca08;
        }

        .sidebar-menu {
            padding: 20px 0;
        }

        .menu-item {
            padding: 15px 25px;
            display: flex;
            align-items: center;
            gap: 15px;
            cursor: pointer;
            transition: all 0.3s;
            border-left: 4px solid transparent;
            font-weight: 500;
            margin: 5px 10px;
            border-radius: 8px;
        }

        .menu-item:hover {
            background: var(--sidebar-hover);
            transform: translateX(5px);
        }

        .menu-item.active {
            background: var(--sidebar-hover);
            border-left: 4px solid var(--secondary);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .menu-item i {
            width: 20px;
            text-align: center;
            font-size: 1.1rem;
        }

        /* Main Content Styles */
        .main-content {
            flex: 1;
            padding: 25px;
            overflow-y: auto;
            margin-left: 280px;
            width: calc(100% - 280px);
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            background: white;
            padding: 20px 30px;
            border-radius: 12px;
            box-shadow: var(--shadow);
            border-left: 5px solid var(--secondary);
        }

        .header h1 {
            color: var(--primary);
            font-size: 1.9rem;
            font-weight: 700;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .user-avatar {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: var(--gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            box-shadow: var(--shadow);
        }

        /* Dashboard Styles */
        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 25px;
            box-shadow: var(--shadow);
            transition: transform 0.3s, box-shadow 0.3s;
            border-top: 5px solid var(--secondary);
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: var(--gradient);
        }

        .card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-lg);
        }

        .card h3 {
            color: var(--primary);
            margin-bottom: 15px;
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 600;
        }

        .card .value {
            font-size: 2rem;
            font-weight: 700;
            margin: 15px 0;
        }

        .card.income .value {
            color: var(--success);
        }

        .card.expenses .value {
            color: var(--accent);
        }

        .card.profit .value {
            color: var(--secondary);
        }

        .card.exchange .value {
            color: var(--warning);
        }

        .card-trend {
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 5px;
            margin-top: 10px;
        }

        .trend-up {
            color: var(--success);
        }

        .trend-down {
            color: var(--accent);
        }

        /* Content Sections */
        .content-section {
            display: none;
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
            border-left: 5px solid var(--secondary);
        }

        .content-section.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border);
        }

        .section-header h2 {
            color: var(--primary);
            font-size: 1.6rem;
            display: flex;
            align-items: center;
            gap: 12px;
            font-weight: 700;
        }

        /* Form Styles */
        .form-row {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-group {
            flex: 1;
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--primary);
        }

        input,
        select,
        textarea {
            width: 100%;
            padding: 14px;
            border: 1px solid var(--border);
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s;
            background: #f9f9f9;
        }

        input:focus,
        select:focus,
        textarea:focus {
            border-color: var(--secondary);
            outline: none;
            box-shadow: 0 0 0 3px rgba(43, 108, 176, 0.2);
            background: white;
        }

        .btn {
            padding: 14px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            box-shadow: var(--shadow);
        }

        .btn-primary {
            background: var(--secondary);
            color: white;
        }

        .btn-primary:hover {
            background: #2c5282;
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .btn-success {
            background: var(--success);
            color: white;
        }

        .btn-success:hover {
            background: #2f855a;
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .btn-danger {
            background: var(--accent);
            color: white;
        }

        .btn-danger:hover {
            background: #c53030;
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .btn-warning {
            background: var(--warning);
            color: white;
        }

        .btn-warning:hover {
            background: #b7791f;
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        /* Table Styles */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            overflow: hidden;
        }

        th,
        td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        th {
            background-color: #f8f9fa;
            font-weight: 600;
            color: var(--primary);
            background: var(--gradient-light);
            color: white;
        }

        tr:hover {
            background-color: #f8f9fa;
        }

        .action-buttons {
            display: flex;
            gap: 8px;
        }

        .action-btn {
            padding: 8px 12px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.2s;
        }

        .edit-btn {
            background: var(--warning);
            color: white;
        }

        .edit-btn:hover {
            background: #b7791f;
        }

        .delete-btn {
            background: var(--accent);
            color: white;
        }

        .delete-btn:hover {
            background: #c53030;
        }

        /* Exchange Rate Styles */
        .exchange-rate {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid var(--secondary);
        }

        .exchange-rate input {
            max-width: 200px;
        }

        /* Charts Container */
        .charts-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-top: 30px;
        }

        .chart {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: var(--shadow);
            border-left: 5px solid var(--secondary);
        }

        .chart h3 {
            margin-bottom: 20px;
            color: var(--primary);
            font-weight: 600;
        }

        .chart-placeholder {
            height: 280px;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-light);
            font-size: 1.1rem;
            flex-direction: column;
            gap: 15px;
        }

        /* Notifications */
        .notification {
            position: fixed;
            top: 25px;
            right: 25px;
            padding: 18px 24px;
            border-radius: 8px;
            color: white;
            font-weight: 500;
            box-shadow: var(--shadow-lg);
            z-index: 1000;
            transform: translateX(150%);
            transition: transform 0.3s ease;
            display: flex;
            align-items: center;
            gap: 12px;
            min-width: 300px;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            background: var(--success);
        }

        .notification.error {
            background: var(--accent);
        }

        .notification.warning {
            background: var(--warning);
        }

        /* Footer */
        footer {
            text-align: center;
            margin-top: 40px;
            padding: 25px;
            color: var(--text-light);
            font-size: 0.9rem;
            border-top: 1px solid var(--border);
        }

        /* Responsive Design */
        @media (max-width: 1200px) {
            .sidebar {
                width: 240px;
            }
            
            .main-content {
                margin-left: 240px;
                width: calc(100% - 240px);
            }
        }

        @media (max-width: 992px) {
            .container {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
                height: auto;
                position: relative;
            }

            .sidebar-menu {
                display: flex;
                overflow-x: auto;
                padding: 15px;
            }

            .menu-item {
                white-space: nowrap;
                border-left: none;
                border-bottom: 4px solid transparent;
                margin: 0 5px;
                padding: 12px 15px;
            }

            .menu-item.active {
                border-left: none;
                border-bottom: 4px solid var(--secondary);
            }

            .main-content {
                margin-left: 0;
                padding: 20px;
                width: 100%;
            }

            .charts-container {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .form-row {
                flex-direction: column;
                gap: 0;
            }

            .header {
                flex-direction: column;
                gap: 15px;
                align-items: flex-start;
            }
            
            .dashboard {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 1.5rem;
            }
            
            .user-info {
                width: 100%;
                justify-content: space-between;
            }
            
            .card .value {
                font-size: 1.5rem;
            }
            
            .section-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }
            
            .section-header h2 {
                font-size: 1.3rem;
            }
            
            table {
                display: block;
                overflow-x: auto;
            }
            
            .content-section {
                padding: 20px;
            }
            
            .profit-calculation {
                padding: 15px;
            }
            
            .workflow-steps {
                flex-wrap: wrap;
                justify-content: center;
                gap: 15px;
            }
            
            .workflow-step {
                flex: 0 0 calc(33.333% - 10px);
            }
            
            .notification {
                min-width: 250px;
                right: 15px;
                top: 15px;
            }
        }

        @media (max-width: 480px) {
            .main-content {
                padding: 15px;
            }
            
            .header {
                padding: 15px;
            }
            
            .card {
                padding: 20px;
            }
            
            .workflow-step {
                flex: 0 0 calc(50% - 10px);
            }
            
            .currency-toggle {
                flex-direction: column;
            }
            
            .user-avatar {
                width: 40px;
                height: 40px;
            }
            
            .btn {
                padding: 12px 18px;
                font-size: 0.9rem;
            }
            
            .sidebar-header h2 {
                font-size: 1.3rem;
            }
            
            .menu-item {
                padding: 10px 12px;
                font-size: 0.9rem;
            }
        }

        /* Toggle Switch */
        .toggle-container {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: var(--secondary);
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }

        /* Inventory Styles */
        .inventory-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .inventory-item {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: var(--shadow);
            border-left: 5px solid var(--secondary);
            transition: all 0.3s;
        }

        .inventory-item:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .inventory-item h4 {
            margin-bottom: 12px;
            color: var(--primary);
            font-weight: 600;
        }

        .inventory-meta {
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
            color: var(--text-light);
            margin-bottom: 8px;
        }

        .low-stock {
            border-left-color: var(--accent);
        }

        /* Analytics Summary */
        .analytics-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .summary-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            text-align: center;
            box-shadow: var(--shadow);
            border-top: 5px solid var(--secondary);
            transition: all 0.3s;
        }

        .summary-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .summary-card h3 {
            font-size: 0.95rem;
            color: var(--text-light);
            margin-bottom: 15px;
            font-weight: 600;
        }

        .summary-card .value {
            font-size: 2rem;
            font-weight: 700;
            margin: 15px 0;
        }

        .summary-card .change {
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
        }
        
        /* Badge for status */
        .status-badge {
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        .status-pending {
            background: #fed7d7;
            color: #c53030;
        }
        
        .status-transit {
            background: #fef5e7;
            color: #d69e2e;
        }
        
        .status-delivered {
            background: #c6f6d5;
            color: #276749;
        }
        
        /* Progress bars */
        .progress-bar {
            height: 8px;
            background: #e2e8f0;
            border-radius: 4px;
            overflow: hidden;
            margin-top: 10px;
        }
        
        .progress-fill {
            height: 100%;
            background: var(--secondary);
            border-radius: 4px;
        }
        
        /* Order workflow */
        .workflow-steps {
            display: flex;
            justify-content: space-between;
            margin: 30px 0;
            position: relative;
        }
        
        .workflow-steps::before {
            content: '';
            position: absolute;
            top: 20px;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--border);
            z-index: 1;
        }
        
        .workflow-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 2;
        }
        
        .step-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: white;
            border: 2px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 10px;
            transition: all 0.3s;
        }
        
        .step-active .step-icon {
            background: var(--secondary);
            border-color: var(--secondary);
            color: white;
        }
        
        .step-complete .step-icon {
            background: var(--success);
            border-color: var(--success);
            color: white;
        }
        
        .step-label {
            font-size: 0.85rem;
            font-weight: 600;
        }
        
        /* Country flags */
        .flag {
            display: inline-block;
            width: 20px;
            height: 15px;
            margin-right: 5px;
            border-radius: 2px;
            vertical-align: middle;
        }
        
        .flag-tz {
            background: linear-gradient(to bottom, #1eb53a 0%, #1eb53a 33%, #00a3dd 33%, #00a3dd 66%, #1eb53a 66%, #1eb53a 100%);
        }
        
        .flag-zw {
            background: linear-gradient(to bottom, #009739 0%, #009739 25%, #ffca08 25%, #ffca08 50%, #000 50%, #000 75%, #de2110 75%, #de2110 100%);
        }
        
        /* Profit Calculation */
        .profit-calculation {
            background: #f0fff4;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            border-left: 4px solid var(--success);
        }
        
        .profit-row {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #e2e8f0;
        }
        
        .profit-row:last-child {
            border-bottom: none;
            font-weight: bold;
            font-size: 1.1rem;
        }
        
        .profit-row.total {
            background: #e6fffa;
            margin: 10px -20px -20px -20px;
            padding: 15px 20px;
            border-radius: 0 0 8px 8px;
        }
        
        /* Currency Toggle */
        .currency-toggle {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .currency-option {
            padding: 10px 20px;
            border: 2px solid var(--border);
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }
        
        .currency-option.active {
            background: var(--secondary);
            color: white;
            border-color: var(--secondary);
        }
        
        /* Mobile Menu Toggle */
        .mobile-menu-toggle {
            display: none;
            background: var(--secondary);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 10px 15px;
            font-size: 1.2rem;
            cursor: pointer;
            margin-bottom: 20px;
            width: 100%;
            justify-content: center;
            align-items: center;
            gap: 10px;
        }
        
        /* Contacts Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            padding: 20px;
        }
        
        .modal {
            background: white;
            border-radius: 12px;
            width: 100%;
            max-width: 500px;
            max-height: 80vh;
            overflow: hidden;
            box-shadow: var(--shadow-lg);
        }
        
        .modal-header {
            padding: 20px;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-header h3 {
            color: var(--primary);
            font-size: 1.3rem;
        }
        
        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-light);
        }
        
        .modal-body {
            padding: 20px;
            max-height: 60vh;
            overflow-y: auto;
        }
        
        .contacts-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .contact-item {
            padding: 15px;
            border: 1px solid var(--border);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .contact-item:hover {
            background: #f8f9fa;
            border-color: var(--secondary);
        }
        
        .contact-item.selected {
            background: #e6f7ff;
            border-color: var(--secondary);
        }
        
        .contact-name {
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .contact-phone {
            color: var(--text-light);
            font-size: 0.9rem;
        }
        
        .modal-footer {
            padding: 20px;
            border-top: 1px solid var(--border);
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }
        
        @media (max-width: 768px) {
            .mobile-menu-toggle {
                display: flex;
            }
            
            .sidebar {
                display: none;
                width: 100%;
                height: auto;
                position: relative;
            }
            
            .sidebar.active {
                display: block;
            }
            
            .main-content {
                margin-left: 0;
            }
            
            .modal {
                width: 95%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Mobile Menu Toggle -->
        <button class="mobile-menu-toggle" id="mobile-menu-toggle">
            <i class="fas fa-bars"></i> Menu
        </button>

        <!-- Sidebar -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h2><i class="fas fa-tshirt"></i> AfriTrade Connect</h2>
                <p>Connecting <span class="location-badge location-tz"><i class="fas fa-flag flag flag-tz"></i> Kariakoo</span> to <span class="location-badge location-zw"><i class="fas fa-flag flag flag-zw"></i> Zimbabwe</span></p>
            </div>
            <div class="sidebar-menu">
                <div class="menu-item active" data-section="dashboard">
                    <i class="fas fa-chart-line"></i>
                    <span>Dashboard</span>
                </div>
                <div class="menu-item" data-section="orders">
                    <i class="fas fa-shopping-bag"></i>
                    <span>Customer Orders</span>
                </div>
                <div class="menu-item" data-section="purchases">
                    <i class="fas fa-shopping-cart"></i>
                    <span>Kariakoo Purchases</span>
                </div>
                <div class="menu-item" data-section="shipments">
                    <i class="fas fa-shipping-fast"></i>
                    <span>Shipments</span>
                </div>
                <div class="menu-item" data-section="inventory">
                    <i class="fas fa-boxes"></i>
                    <span>Inventory</span>
                </div>
                <div class="menu-item" data-section="payments">
                    <i class="fas fa-money-bill-wave"></i>
                    <span>Payments</span>
                </div>
                <div class="menu-item" data-section="customers">
                    <i class="fas fa-users"></i>
                    <span>Customers</span>
                </div>
                <div class="menu-item" data-section="analytics">
                    <i class="fas fa-chart-bar"></i>
                    <span>Analytics</span>
                </div>
                <div class="menu-item" data-section="settings">
                    <i class="fas fa-cog"></i>
                    <span>Settings</span>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <div class="header">
                <h1>Business Dashboard</h1>
                <div class="user-info">
                    <div class="currency-toggle">
                        <div class="currency-option active" data-currency="usd">USD</div>
                        <div class="currency-option" data-currency="tzs">TZS</div>
                    </div>
                    <div class="user-avatar">SC</div>
                    <div>
                        <div class="user-name">Shingie's Closet</div>
                        <div class="user-role">Trade Middleman</div>
                    </div>
                </div>
            </div>

            <!-- Dashboard Section -->
            <div class="content-section active" id="dashboard-section">
                <div class="dashboard">
                    <div class="card income">
                        <h3><i class="fas fa-money-bill-wave"></i> Total Revenue</h3>
                        <div class="value" id="total-revenue">$0.00</div>
                        <div class="card-trend trend-up">
                            <i class="fas fa-arrow-up"></i>
                            <span>15% increase this month</span>
                        </div>
                    </div>
                    <div class="card expenses">
                        <h3><i class="fas fa-receipt"></i> Kariakoo Expenses</h3>
                        <div class="value" id="total-expenses">$0.00</div>
                        <div class="card-trend trend-down">
                            <i class="fas fa-arrow-down"></i>
                            <span>8% decrease this month</span>
                        </div>
                    </div>
                    <div class="card profit">
                        <h3><i class="fas fa-chart-line"></i> Net Profit</h3>
                        <div class="value" id="net-profit">$0.00</div>
                        <div class="card-trend trend-up">
                            <i class="fas fa-arrow-up"></i>
                            <span>22% increase this month</span>
                        </div>
                    </div>
                    <div class="card exchange">
                        <h3><i class="fas fa-exchange-alt"></i> Exchange Rate</h3>
                        <div class="value" id="exchange-rate">1 USD = TZS 0.00</div>
                        <p>Last updated: <span id="rate-date">-</span></p>
                    </div>
                </div>

                <div class="profit-calculation">
                    <h3><i class="fas fa-calculator"></i> Profit Calculation (35% Markup)</h3>
                    <div class="profit-row">
                        <span>Purchase Cost (Kariakoo):</span>
                        <span id="purchase-cost-display">$0.00</span>
                    </div>
                    <div class="profit-row">
                        <span>35% Markup:</span>
                        <span id="markup-amount">$0.00</span>
                    </div>
                    <div class="profit-row">
                        <span>Selling Price (Zimbabwe):</span>
                        <span id="selling-price">$0.00</span>
                    </div>
                    <div class="profit-row">
                        <span>Transport Costs:</span>
                        <span id="transport-costs">$0.00</span>
                    </div>
                    <div class="profit-row total">
                        <span>Net Profit:</span>
                        <span id="net-profit-display">$0.00</span>
                    </div>
                </div>

                <div class="section-header">
                    <h2><i class="fas fa-sync-alt"></i> Active Order Workflow</h2>
                </div>

                <div class="workflow-steps">
                    <div class="workflow-step step-complete">
                        <div class="step-icon">
                            <i class="fas fa-clipboard-list"></i>
                        </div>
                        <div class="step-label">Order Received</div>
                    </div>
                    <div class="workflow-step step-complete">
                        <div class="step-icon">
                            <i class="fas fa-money-bill-wave"></i>
                        </div>
                        <div class="step-label">Payment Collected</div>
                    </div>
                    <div class="workflow-step step-active">
                        <div class="step-icon">
                            <i class="fas fa-shopping-cart"></i>
                        </div>
                        <div class="step-label">Kariakoo Purchase</div>
                    </div>
                    <div class="workflow-step">
                        <div class="step-icon">
                            <i class="fas fa-shipping-fast"></i>
                        </div>
                        <div class="step-label">In Transit</div>
                    </div>
                    <div class="workflow-step">
                        <div class="step-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="step-label">Delivered</div>
                    </div>
                </div>

                <div class="section-header">
                    <h2><i class="fas fa-box"></i> Recent Orders</h2>
                    <button class="btn btn-primary" id="view-all-orders">
                        <i class="fas fa-eye"></i> View All
                    </button>
                </div>

                <table id="recent-orders-table">
                    <thead>
                        <tr>
                            <th>Order ID</th>
                            <th>Customer</th>
                            <th>Items</th>
                            <th>Value (USD)</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Orders will be loaded here -->
                    </tbody>
                </table>
            </div>

            <!-- Orders Section -->
            <div class="content-section" id="orders-section">
                <div class="section-header">
                    <h2><i class="fas fa-shopping-bag"></i> Customer Orders</h2>
                    <button class="btn btn-primary" id="add-order-btn">
                        <i class="fas fa-plus"></i> Add New Order
                    </button>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="customer-search">Search Customer</label>
                        <div style="display: flex; gap: 10px;">
                            <input type="text" id="customer-search" placeholder="Enter customer name or phone">
                            <button type="button" class="btn btn-primary" id="select-from-contacts">
                                <i class="fas fa-address-book"></i> Contacts
                            </button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="order-status-filter">Filter by Status</label>
                        <select id="order-status-filter">
                            <option value="all">All Orders</option>
                            <option value="pending">Pending</option>
                            <option value="paid">Paid</option>
                            <option value="purchased">Purchased</option>
                            <option value="shipped">Shipped</option>
                            <option value="delivered">Delivered</option>
                        </select>
                    </div>
                </div>

                <table id="orders-table">
                    <thead>
                        <tr>
                            <th>Order ID</th>
                            <th>Customer</th>
                            <th>Items</th>
                            <th>Total (USD)</th>
                            <th>Date</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Orders will be loaded here -->
                    </tbody>
                </table>
            </div>

            <!-- Purchases Section -->
            <div class="content-section" id="purchases-section">
                <div class="section-header">
                    <h2><i class="fas fa-shopping-cart"></i> Kariakoo Purchases</h2>
                    <button class="btn btn-primary" id="add-purchase-btn">
                        <i class="fas fa-plus"></i> Add Purchase
                    </button>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="purchase-item">Item Name</label>
                        <input type="text" id="purchase-item" placeholder="Enter item name">
                    </div>
                    <div class="form-group">
                        <label for="purchase-category">Category</label>
                        <select id="purchase-category">
                            <option value="men">Men's Clothing</option>
                            <option value="women">Women's Clothing</option>
                            <option value="children">Children's Clothing</option>
                            <option value="shoes">Shoes</option>
                            <option value="accessories">Accessories</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="purchase-quantity">Quantity</label>
                        <input type="number" id="purchase-quantity" placeholder="Enter quantity">
                    </div>
                    <div class="form-group">
                        <label for="purchase-price">Price (TZS)</label>
                        <input type="number" id="purchase-price" placeholder="Enter price in TZS">
                    </div>
                </div>

                <div class="form-group">
                    <label for="purchase-supplier">Supplier</label>
                    <input type="text" id="purchase-supplier" placeholder="Enter supplier name">
                </div>

                <button class="btn btn-success" id="save-purchase-btn">
                    <i class="fas fa-save"></i> Save Purchase
                </button>

                <table id="purchases-table">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Item</th>
                            <th>Category</th>
                            <th>Quantity</th>
                            <th>Price (TZS)</th>
                            <th>Supplier</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Purchases will be loaded here -->
                    </tbody>
                </table>
            </div>

            <!-- Shipments Section -->
            <div class="content-section" id="shipments-section">
                <div class="section-header">
                    <h2><i class="fas fa-shipping-fast"></i> Shipments</h2>
                    <button class="btn btn-primary" id="add-shipment-btn">
                        <i class="fas fa-plus"></i> Add Shipment
                    </button>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="shipment-order">Order ID</label>
                        <input type="text" id="shipment-order" placeholder="Enter order ID">
                    </div>
                    <div class="form-group">
                        <label for="shipment-carrier">Carrier</label>
                        <select id="shipment-carrier">
                            <option value="dhl">DHL</option>
                            <option value="fedex">FedEx</option>
                            <option value="ups">UPS</option>
                            <option value="local">Local Carrier</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="shipment-date">Shipment Date</label>
                        <input type="date" id="shipment-date">
                    </div>
                    <div class="form-group">
                        <label for="shipment-cost">Shipping Cost (USD)</label>
                        <input type="number" id="shipment-cost" placeholder="Enter shipping cost">
                    </div>
                </div>

                <div class="form-group">
                    <label for="shipment-tracking">Tracking Number</label>
                    <input type="text" id="shipment-tracking" placeholder="Enter tracking number">
                </div>

                <button class="btn btn-success" id="save-shipment-btn">
                    <i class="fas fa-save"></i> Save Shipment
                </button>

                <table id="shipments-table">
                    <thead>
                        <tr>
                            <th>Order ID</th>
                            <th>Carrier</th>
                            <th>Tracking</th>
                            <th>Date</th>
                            <th>Cost (USD)</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Shipments will be loaded here -->
                    </tbody>
                </table>
            </div>

            <!-- Inventory Section -->
            <div class="content-section" id="inventory-section">
                <div class="section-header">
                    <h2><i class="fas fa-boxes"></i> Inventory</h2>
                    <button class="btn btn-primary" id="add-inventory-btn">
                        <i class="fas fa-plus"></i> Add Item
                    </button>
                </div>

                <div class="inventory-grid" id="inventory-grid">
                    <!-- Inventory items will be loaded here -->
                </div>
            </div>

            <!-- Payments Section -->
            <div class="content-section" id="payments-section">
                <div class="section-header">
                    <h2><i class="fas fa-money-bill-wave"></i> Payments</h2>
                    <button class="btn btn-primary" id="add-payment-btn">
                        <i class="fas fa-plus"></i> Add Payment
                    </button>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="payment-order">Order ID</label>
                        <input type="text" id="payment-order" placeholder="Enter order ID">
                    </div>
                    <div class="form-group">
                        <label for="payment-method">Payment Method</label>
                        <select id="payment-method">
                            <option value="cash">Cash</option>
                            <option value="ecocash">Ecocash</option>
                            <option value="bank">Bank Transfer</option>
                            <option value="paypal">PayPal</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="payment-amount">Amount (USD)</label>
                        <input type="number" id="payment-amount" placeholder="Enter amount">
                    </div>
                    <div class="form-group">
                        <label for="payment-date">Payment Date</label>
                        <input type="date" id="payment-date">
                    </div>
                </div>

                <button class="btn btn-success" id="save-payment-btn">
                    <i class="fas fa-save"></i> Save Payment
                </button>

                <table id="payments-table">
                    <thead>
                        <tr>
                            <th>Order ID</th>
                            <th>Amount (USD)</th>
                            <th>Method</th>
                            <th>Date</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Payments will be loaded here -->
                    </tbody>
                </table>
            </div>

            <!-- Customers Section -->
            <div class="content-section" id="customers-section">
                <div class="section-header">
                    <h2><i class="fas fa-users"></i> Customers</h2>
                    <button class="btn btn-primary" id="add-customer-btn">
                        <i class="fas fa-plus"></i> Add Customer
                    </button>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="customer-name">Full Name</label>
                        <input type="text" id="customer-name" placeholder="Enter customer name">
                    </div>
                    <div class="form-group">
                        <label for="customer-phone">Phone Number</label>
                        <input type="text" id="customer-phone" placeholder="Enter phone number">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="customer-email">Email</label>
                        <input type="email" id="customer-email" placeholder="Enter email address">
                    </div>
                    <div class="form-group">
                        <label for="customer-location">Location</label>
                        <input type="text" id="customer-location" placeholder="Enter location in Zimbabwe">
                    </div>
                </div>

                <button class="btn btn-success" id="save-customer-btn">
                    <i class="fas fa-save"></i> Save Customer
                </button>

                <table id="customers-table">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Phone</th>
                            <th>Email</th>
                            <th>Location</th>
                            <th>Orders</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Customers will be loaded here -->
                    </tbody>
                </table>
            </div>

            <!-- Analytics Section -->
            <div class="content-section" id="analytics-section">
                <div class="section-header">
                    <h2><i class="fas fa-chart-bar"></i> Business Analytics</h2>
                </div>

                <div class="analytics-summary">
                    <div class="summary-card">
                        <h3>Total Orders</h3>
                        <div class="value" id="total-orders">0</div>
                        <div class="change trend-up">
                            <i class="fas fa-arrow-up"></i>
                            <span>12% from last month</span>
                        </div>
                    </div>
                    <div class="summary-card">
                        <h3>Revenue (USD)</h3>
                        <div class="value" id="revenue-analytics">$0.00</div>
                        <div class="change trend-up">
                            <i class="fas fa-arrow-up"></i>
                            <span>15% from last month</span>
                        </div>
                    </div>
                    <div class="summary-card">
                        <h3>Profit Margin</h3>
                        <div class="value" id="profit-margin">0%</div>
                        <div class="change trend-up">
                            <i class="fas fa-arrow-up"></i>
                            <span>5% from last month</span>
                        </div>
                    </div>
                    <div class="summary-card">
                        <h3>Customer Growth</h3>
                        <div class="value" id="customer-growth">0%</div>
                        <div class="change trend-up">
                            <i class="fas fa-arrow-up"></i>
                            <span>8% from last month</span>
                        </div>
                    </div>
                </div>

                <div class="charts-container">
                    <div class="chart">
                        <h3>Monthly Revenue</h3>
                        <div class="chart-placeholder">
                            <i class="fas fa-chart-line fa-3x"></i>
                            <p>Revenue chart will appear here</p>
                        </div>
                    </div>
                    <div class="chart">
                        <h3>Top Selling Categories</h3>
                        <div class="chart-placeholder">
                            <i class="fas fa-chart-pie fa-3x"></i>
                            <p>Category chart will appear here</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Settings Section -->
            <div class="content-section" id="settings-section">
                <div class="section-header">
                    <h2><i class="fas fa-cog"></i> Settings</h2>
                </div>

                <div class="form-group">
                    <label for="exchange-rate-setting">Exchange Rate (1 USD to TZS)</label>
                    <input type="number" id="exchange-rate-setting" placeholder="Enter current exchange rate">
                </div>

                <div class="form-group">
                    <label for="profit-margin-setting">Default Profit Margin (%)</label>
                    <input type="number" id="profit-margin-setting" value="35" placeholder="Enter profit margin">
                </div>

                <div class="form-group">
                    <label for="shipping-cost-setting">Default Shipping Cost (USD)</label>
                    <input type="number" id="shipping-cost-setting" placeholder="Enter shipping cost">
                </div>

                <div class="toggle-container">
                    <span>Enable Notifications</span>
                    <label class="toggle-switch">
                        <input type="checkbox" id="notifications-toggle" checked>
                        <span class="slider"></span>
                    </label>
                </div>

                <button class="btn btn-success" id="save-settings-btn">
                    <i class="fas fa-save"></i> Save Settings
                </button>

                <div class="form-group" style="margin-top: 30px;">
                    <h3>Data Management</h3>
                    <button class="btn btn-warning" id="export-data-btn">
                        <i class="fas fa-file-export"></i> Export Data
                    </button>
                    <button class="btn btn-danger" id="reset-data-btn">
                        <i class="fas fa-trash"></i> Reset All Data
                    </button>
                </div>
            </div>

            <footer>
                <p>AfriTrade Connect &copy; 2023 | Tanzania-Zimbabwe Clothing Trade Management System</p>
            </footer>
        </div>
    </div>

    <!-- Notification -->
    <div class="notification" id="notification">
        <i class="fas fa-check-circle"></i>
        <span id="notification-text">Operation completed successfully!</span>
    </div>

    <!-- Contacts Modal -->
    <div class="modal-overlay" id="contacts-modal" style="display: none;">
        <div class="modal">
            <div class="modal-header">
                <h3>Select from Phone Contacts</h3>
                <button class="modal-close" id="close-contacts-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="contacts-list" id="contacts-list">
                    <!-- Contacts will be loaded here -->
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-warning" id="cancel-contact-selection">Cancel</button>
                <button class="btn btn-success" id="confirm-contact-selection">Select Contact</button>
            </div>
        </div>
    </div>

    <script>
        // Initialize data storage
        let businessData = {
            orders: [],
            purchases: [],
            shipments: [],
            inventory: [],
            payments: [],
            customers: [],
            settings: {
                exchangeRate: 2500,
                profitMargin: 35,
                shippingCost: 50,
                notifications: true
            }
        };

        // DOM Elements
        const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
        const sidebar = document.getElementById('sidebar');
        const menuItems = document.querySelectorAll('.menu-item');
        const contentSections = document.querySelectorAll('.content-section');
        const currencyOptions = document.querySelectorAll('.currency-option');
        const notification = document.getElementById('notification');
        const notificationText = document.getElementById('notification-text');
        
        // Contacts modal elements
        const contactsModal = document.getElementById('contacts-modal');
        const contactsList = document.getElementById('contacts-list');
        const closeContactsModal = document.getElementById('close-contacts-modal');
        const cancelContactSelection = document.getElementById('cancel-contact-selection');
        const confirmContactSelection = document.getElementById('confirm-contact-selection');
        const selectFromContactsBtn = document.getElementById('select-from-contacts');
        
        // Selected contact
        let selectedContact = null;

        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            loadData();
            initializeEventListeners();
            updateDashboard();
            showSection('dashboard');
        });

        // Initialize event listeners
        function initializeEventListeners() {
            // Mobile menu toggle
            mobileMenuToggle.addEventListener('click', function() {
                sidebar.classList.toggle('active');
            });

            // Menu item clicks
            menuItems.forEach(item => {
                item.addEventListener('click', function() {
                    const sectionId = this.getAttribute('data-section');
                    showSection(sectionId);
                    
                    // Update active menu item
                    menuItems.forEach(i => i.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Close mobile menu after selection
                    if (window.innerWidth <= 768) {
                        sidebar.classList.remove('active');
                    }
                });
            });

            // Currency toggle
            currencyOptions.forEach(option => {
                option.addEventListener('click', function() {
                    currencyOptions.forEach(o => o.classList.remove('active'));
                    this.classList.add('active');
                    updateCurrencyDisplay(this.getAttribute('data-currency'));
                });
            });

            // Form submission buttons
            document.getElementById('save-purchase-btn').addEventListener('click', savePurchase);
            document.getElementById('save-shipment-btn').addEventListener('click', saveShipment);
            document.getElementById('save-payment-btn').addEventListener('click', savePayment);
            document.getElementById('save-customer-btn').addEventListener('click', saveCustomer);
            document.getElementById('save-settings-btn').addEventListener('click', saveSettings);
            
            // Data management buttons
            document.getElementById('export-data-btn').addEventListener('click', exportData);
            document.getElementById('reset-data-btn').addEventListener('click', resetData);
            
            // Add buttons
            document.getElementById('add-order-btn').addEventListener('click', () => showSection('orders'));
            document.getElementById('add-purchase-btn').addEventListener('click', () => showSection('purchases'));
            document.getElementById('add-shipment-btn').addEventListener('click', () => showSection('shipments'));
            document.getElementById('add-inventory-btn').addEventListener('click', () => showSection('inventory'));
            document.getElementById('add-payment-btn').addEventListener('click', () => showSection('payments'));
            document.getElementById('add-customer-btn').addEventListener('click', () => showSection('customers'));
            
            // Contacts modal
            selectFromContactsBtn.addEventListener('click', openContactsModal);
            closeContactsModal.addEventListener('click', closeContactsModalFunc);
            cancelContactSelection.addEventListener('click', closeContactsModalFunc);
            confirmContactSelection.addEventListener('click', confirmContactSelectionFunc);
        }

        // Open contacts modal
        function openContactsModal() {
            // Check if Contacts API is available
            if ('contacts' in navigator && 'select' in navigator.contacts) {
                // Use the Contacts API to get phone contacts
                navigator.contacts.select(['name', 'tel'], { multiple: false })
                    .then(contacts => {
                        if (contacts && contacts.length > 0) {
                            const contact = contacts[0];
                            // Auto-fill the customer form with selected contact
                            document.getElementById('customer-name').value = contact.name ? contact.name[0] : '';
                            if (contact.tel && contact.tel.length > 0) {
                                document.getElementById('customer-phone').value = contact.tel[0];
                            }
                            showNotification('Contact selected successfully!', 'success');
                        }
                    })
                    .catch(err => {
                        console.error('Error accessing contacts:', err);
                        showNotification('Could not access contacts. Please check permissions.', 'error');
                        // Fallback: Show manual contact selection
                        showManualContactsModal();
                    });
            } else {
                // Fallback for browsers that don't support Contacts API
                showManualContactsModal();
            }
        }
        
        // Show manual contacts modal (fallback)
        function showManualContactsModal() {
            // In a real app, you would load contacts from localStorage or another source
            // For this demo, we'll use sample contacts
            contactsList.innerHTML = '';
            
            const sampleContacts = [
                { name: 'Tendai Moyo', phone: '+263 77 123 4567' },
                { name: 'Anesu Chidzonga', phone: '+263 71 987 6543' },
                { name: 'Farai Banda', phone: '+263 78 456 7890' },
                { name: 'Rudo Maphosa', phone: '+263 77 555 1212' },
                { name: 'Tatenda Ndlovu', phone: '+263 71 333 4444' }
            ];
            
            sampleContacts.forEach(contact => {
                const contactItem = document.createElement('div');
                contactItem.className = 'contact-item';
                contactItem.innerHTML = `
                    <div class="contact-name">${contact.name}</div>
                    <div class="contact-phone">${contact.phone}</div>
                `;
                contactItem.addEventListener('click', function() {
                    // Remove selection from all contacts
                    document.querySelectorAll('.contact-item').forEach(item => {
                        item.classList.remove('selected');
                    });
                    // Select this contact
                    this.classList.add('selected');
                    selectedContact = contact;
                });
                contactsList.appendChild(contactItem);
            });
            
            // Show the modal
            contactsModal.style.display = 'flex';
            selectedContact = null;
        }
        
        // Close contacts modal
        function closeContactsModalFunc() {
            contactsModal.style.display = 'none';
            selectedContact = null;
        }
        
        // Confirm contact selection
        function confirmContactSelectionFunc() {
            if (selectedContact) {
                // Auto-fill the customer form with selected contact
                document.getElementById('customer-name').value = selectedContact.name;
                document.getElementById('customer-phone').value = selectedContact.phone;
                closeContactsModalFunc();
                showNotification('Contact selected successfully!', 'success');
            } else {
                showNotification('Please select a contact first', 'error');
            }
        }

        // Show specific section
        function showSection(sectionId) {
            contentSections.forEach(section => {
                section.classList.remove('active');
            });
            
            const targetSection = document.getElementById(`${sectionId}-section`);
            if (targetSection) {
                targetSection.classList.add('active');
                
                // Update the header title
                const headerTitle = document.querySelector('.header h1');
                const sectionName = document.querySelector(`[data-section="${sectionId}"] span`).textContent;
                headerTitle.textContent = sectionName;
                
                // Load section-specific data
                loadSectionData(sectionId);
            }
        }

        // Load section-specific data
        function loadSectionData(sectionId) {
            switch(sectionId) {
                case 'orders':
                    loadOrdersTable();
                    break;
                case 'purchases':
                    loadPurchasesTable();
                    break;
                case 'shipments':
                    loadShipmentsTable();
                    break;
                case 'inventory':
                    loadInventoryGrid();
                    break;
                case 'payments':
                    loadPaymentsTable();
                    break;
                case 'customers':
                    loadCustomersTable();
                    break;
                case 'analytics':
                    updateAnalytics();
                    break;
            }
        }

        // Update dashboard with current data
        function updateDashboard() {
            // Calculate totals
            const totalRevenue = businessData.orders.reduce((sum, order) => sum + order.total, 0);
            const totalExpenses = businessData.purchases.reduce((sum, purchase) => sum + (purchase.price * purchase.quantity / businessData.settings.exchangeRate), 0);
            const netProfit = totalRevenue - totalExpenses;
            
            // Update dashboard cards
            document.getElementById('total-revenue').textContent = formatCurrency(totalRevenue);
            document.getElementById('total-expenses').textContent = formatCurrency(totalExpenses);
            document.getElementById('net-profit').textContent = formatCurrency(netProfit);
            document.getElementById('exchange-rate').textContent = `1 USD = TZS ${businessData.settings.exchangeRate.toLocaleString()}`;
            document.getElementById('rate-date').textContent = new Date().toLocaleDateString();
            
            // Update profit calculation
            document.getElementById('purchase-cost-display').textContent = formatCurrency(totalExpenses);
            const markupAmount = totalExpenses * (businessData.settings.profitMargin / 100);
            document.getElementById('markup-amount').textContent = formatCurrency(markupAmount);
            document.getElementById('selling-price').textContent = formatCurrency(totalExpenses + markupAmount);
            document.getElementById('transport-costs').textContent = formatCurrency(businessData.settings.shippingCost);
            document.getElementById('net-profit-display').textContent = formatCurrency(netProfit);
            
            // Load recent orders
            loadRecentOrders();
        }

        // Load recent orders for dashboard
        function loadRecentOrders() {
            const tableBody = document.querySelector('#recent-orders-table tbody');
            tableBody.innerHTML = '';
            
            const recentOrders = businessData.orders.slice(0, 5); // Get last 5 orders
            
            recentOrders.forEach(order => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${order.id}</td>
                    <td>${order.customerName}</td>
                    <td>${order.items.length} items</td>
                    <td>${formatCurrency(order.total)}</td>
                    <td><span class="status-badge status-${order.status}">${order.status}</span></td>
                    <td>
                        <button class="action-btn edit-btn" data-id="${order.id}">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="action-btn delete-btn" data-id="${order.id}">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                `;
                tableBody.appendChild(row);
            });
        }

        // Load orders table
        function loadOrdersTable() {
            const tableBody = document.querySelector('#orders-table tbody');
            tableBody.innerHTML = '';
            
            businessData.orders.forEach(order => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${order.id}</td>
                    <td>${order.customerName}</td>
                    <td>${order.items.length} items</td>
                    <td>${formatCurrency(order.total)}</td>
                    <td>${order.date}</td>
                    <td><span class="status-badge status-${order.status}">${order.status}</span></td>
                    <td>
                        <button class="action-btn edit-btn" data-id="${order.id}">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="action-btn delete-btn" data-id="${order.id}">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                `;
                tableBody.appendChild(row);
            });
        }

        // Load purchases table
        function loadPurchasesTable() {
            const tableBody = document.querySelector('#purchases-table tbody');
            tableBody.innerHTML = '';
            
            businessData.purchases.forEach(purchase => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${purchase.date}</td>
                    <td>${purchase.item}</td>
                    <td>${purchase.category}</td>
                    <td>${purchase.quantity}</td>
                    <td>${purchase.price.toLocaleString()}</td>
                    <td>${purchase.supplier}</td>
                    <td>
                        <button class="action-btn edit-btn" data-id="${purchase.id}">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="action-btn delete-btn" data-id="${purchase.id}">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                `;
                tableBody.appendChild(row);
            });
        }

        // Load shipments table
        function loadShipmentsTable() {
            const tableBody = document.querySelector('#shipments-table tbody');
            tableBody.innerHTML = '';
            
            businessData.shipments.forEach(shipment => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${shipment.orderId}</td>
                    <td>${shipment.carrier}</td>
                    <td>${shipment.tracking}</td>
                    <td>${shipment.date}</td>
                    <td>${formatCurrency(shipment.cost)}</td>
                    <td><span class="status-badge status-${shipment.status}">${shipment.status}</span></td>
                    <td>
                        <button class="action-btn edit-btn" data-id="${shipment.id}">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="action-btn delete-btn" data-id="${shipment.id}">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                `;
                tableBody.appendChild(row);
            });
        }

        // Load inventory grid
        function loadInventoryGrid() {
            const inventoryGrid = document.getElementById('inventory-grid');
            inventoryGrid.innerHTML = '';
            
            businessData.inventory.forEach(item => {
                const inventoryItem = document.createElement('div');
                inventoryItem.className = `inventory-item ${item.quantity < 10 ? 'low-stock' : ''}`;
                inventoryItem.innerHTML = `
                    <h4>${item.name}</h4>
                    <div class="inventory-meta">
                        <span>Category: ${item.category}</span>
                        <span>Stock: ${item.quantity}</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: ${Math.min(item.quantity / 50 * 100, 100)}%"></div>
                    </div>
                    <div class="inventory-meta">
                        <span>Cost: ${formatCurrency(item.cost)}</span>
                        <span>Value: ${formatCurrency(item.value)}</span>
                    </div>
                `;
                inventoryGrid.appendChild(inventoryItem);
            });
        }

        // Load payments table
        function loadPaymentsTable() {
            const tableBody = document.querySelector('#payments-table tbody');
            tableBody.innerHTML = '';
            
            businessData.payments.forEach(payment => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${payment.orderId}</td>
                    <td>${formatCurrency(payment.amount)}</td>
                    <td>${payment.method}</td>
                    <td>${payment.date}</td>
                    <td><span class="status-badge status-${payment.status}">${payment.status}</span></td>
                    <td>
                        <button class="action-btn edit-btn" data-id="${payment.id}">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="action-btn delete-btn" data-id="${payment.id}">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                `;
                tableBody.appendChild(row);
            });
        }

        // Load customers table
        function loadCustomersTable() {
            const tableBody = document.querySelector('#customers-table tbody');
            tableBody.innerHTML = '';
            
            businessData.customers.forEach(customer => {
                const orderCount = businessData.orders.filter(order => order.customerId === customer.id).length;
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${customer.name}</td>
                    <td>${customer.phone}</td>
                    <td>${customer.email}</td>
                    <td>${customer.location}</td>
                    <td>${orderCount}</td>
                    <td>
                        <button class="action-btn edit-btn" data-id="${customer.id}">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="action-btn delete-btn" data-id="${customer.id}">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                `;
                tableBody.appendChild(row);
            });
        }

        // Update analytics
        function updateAnalytics() {
            document.getElementById('total-orders').textContent = businessData.orders.length;
            document.getElementById('revenue-analytics').textContent = formatCurrency(
                businessData.orders.reduce((sum, order) => sum + order.total, 0)
            );
            
            const totalCost = businessData.purchases.reduce((sum, purchase) => sum + (purchase.price * purchase.quantity / businessData.settings.exchangeRate), 0);
            const totalRevenue = businessData.orders.reduce((sum, order) => sum + order.total, 0);
            const profitMargin = totalRevenue > 0 ? ((totalRevenue - totalCost) / totalRevenue * 100).toFixed(1) : 0;
            
            document.getElementById('profit-margin').textContent = `${profitMargin}%`;
            document.getElementById('customer-growth').textContent = `${businessData.customers.length > 5 ? '8' : '0'}%`;
        }

        // Save purchase
        function savePurchase() {
            const item = document.getElementById('purchase-item').value;
            const category = document.getElementById('purchase-category').value;
            const quantity = parseInt(document.getElementById('purchase-quantity').value);
            const price = parseInt(document.getElementById('purchase-price').value);
            const supplier = document.getElementById('purchase-supplier').value;
            
            if (!item || !quantity || !price || !supplier) {
                showNotification('Please fill in all required fields', 'error');
                return;
            }
            
            const newPurchase = {
                id: generateId(),
                date: new Date().toLocaleDateString(),
                item,
                category,
                quantity,
                price,
                supplier
            };
            
            businessData.purchases.push(newPurchase);
            saveData();
            loadPurchasesTable();
            updateDashboard();
            
            // Clear form
            document.getElementById('purchase-item').value = '';
            document.getElementById('purchase-quantity').value = '';
            document.getElementById('purchase-price').value = '';
            document.getElementById('purchase-supplier').value = '';
            
            showNotification('Purchase saved successfully!', 'success');
        }

        // Save shipment
        function saveShipment() {
            const orderId = document.getElementById('shipment-order').value;
            const carrier = document.getElementById('shipment-carrier').value;
            const date = document.getElementById('shipment-date').value;
            const cost = parseFloat(document.getElementById('shipment-cost').value);
            const tracking = document.getElementById('shipment-tracking').value;
            
            if (!orderId || !carrier || !date || !cost || !tracking) {
                showNotification('Please fill in all required fields', 'error');
                return;
            }
            
            const newShipment = {
                id: generateId(),
                orderId,
                carrier,
                date,
                cost,
                tracking,
                status: 'shipped'
            };
            
            businessData.shipments.push(newShipment);
            saveData();
            loadShipmentsTable();
            
            // Clear form
            document.getElementById('shipment-order').value = '';
            document.getElementById('shipment-date').value = '';
            document.getElementById('shipment-cost').value = '';
            document.getElementById('shipment-tracking').value = '';
            
            showNotification('Shipment saved successfully!', 'success');
        }

        // Save payment
        function savePayment() {
            const orderId = document.getElementById('payment-order').value;
            const method = document.getElementById('payment-method').value;
            const amount = parseFloat(document.getElementById('payment-amount').value);
            const date = document.getElementById('payment-date').value;
            
            if (!orderId || !method || !amount || !date) {
                showNotification('Please fill in all required fields', 'error');
                return;
            }
            
            const newPayment = {
                id: generateId(),
                orderId,
                method,
                amount,
                date,
                status: 'completed'
            };
            
            businessData.payments.push(newPayment);
            saveData();
            loadPaymentsTable();
            
            // Clear form
            document.getElementById('payment-order').value = '';
            document.getElementById('payment-amount').value = '';
            document.getElementById('payment-date').value = '';
            
            showNotification('Payment saved successfully!', 'success');
        }

        // Save customer
        function saveCustomer() {
            const name = document.getElementById('customer-name').value;
            const phone = document.getElementById('customer-phone').value;
            const email = document.getElementById('customer-email').value;
            const location = document.getElementById('customer-location').value;
            
            if (!name || !phone || !location) {
                showNotification('Please fill in all required fields', 'error');
                return;
            }
            
            const newCustomer = {
                id: generateId(),
                name,
                phone,
                email,
                location
            };
            
            businessData.customers.push(newCustomer);
            saveData();
            loadCustomersTable();
            updateAnalytics();
            
            // Clear form
            document.getElementById('customer-name').value = '';
            document.getElementById('customer-phone').value = '';
            document.getElementById('customer-email').value = '';
            document.getElementById('customer-location').value = '';
            
            showNotification('Customer saved successfully!', 'success');
        }

        // Save settings
        function saveSettings() {
            const exchangeRate = parseFloat(document.getElementById('exchange-rate-setting').value);
            const profitMargin = parseFloat(document.getElementById('profit-margin-setting').value);
            const shippingCost = parseFloat(document.getElementById('shipping-cost-setting').value);
            const notifications = document.getElementById('notifications-toggle').checked;
            
            if (!exchangeRate || !profitMargin) {
                showNotification('Please fill in all required fields', 'error');
                return;
            }
            
            businessData.settings.exchangeRate = exchangeRate;
            businessData.settings.profitMargin = profitMargin;
            businessData.settings.shippingCost = shippingCost;
            businessData.settings.notifications = notifications;
            
            saveData();
            updateDashboard();
            
            showNotification('Settings saved successfully!', 'success');
        }

        // Export data
        function exportData() {
            const dataStr = JSON.stringify(businessData, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'afritrade-connect-data.json';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            showNotification('Data exported successfully!', 'success');
        }

        // Reset data
        function resetData() {
            if (confirm('Are you sure you want to reset all data? This action cannot be undone.')) {
                businessData = {
                    orders: [],
                    purchases: [],
                    shipments: [],
                    inventory: [],
                    payments: [],
                    customers: [],
                    settings: {
                        exchangeRate: 2500,
                        profitMargin: 35,
                        shippingCost: 50,
                        notifications: true
                    }
                };
                
                saveData();
                updateDashboard();
                loadSectionData('orders');
                loadSectionData('purchases');
                loadSectionData('shipments');
                loadSectionData('inventory');
                loadSectionData('payments');
                loadSectionData('customers');
                loadSectionData('analytics');
                
                showNotification('All data has been reset', 'warning');
            }
        }

        // Update currency display
        function updateCurrencyDisplay(currency) {
            // This would update all currency displays based on selected currency
            // For now, we'll just update the dashboard
            updateDashboard();
        }

        // Format currency
        function formatCurrency(amount) {
            return new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: 'USD'
            }).format(amount);
        }

        // Generate unique ID
        function generateId() {
            return Date.now().toString(36) + Math.random().toString(36).substr(2);
        }

        // Show notification
        function showNotification(message, type = 'success') {
            notification.className = `notification ${type}`;
            notificationText.textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Save data to localStorage
        function saveData() {
            localStorage.setItem('afritradeData', JSON.stringify(businessData));
        }

        // Load data from localStorage
        function loadData() {
            const savedData = localStorage.getItem('afritradeData');
            if (savedData) {
                businessData = JSON.parse(savedData);
            }
            
            // Initialize sample data if empty
            if (businessData.orders.length === 0) {
                initializeSampleData();
            }
            
            // Update settings form
            document.getElementById('exchange-rate-setting').value = businessData.settings.exchangeRate;
            document.getElementById('profit-margin-setting').value = businessData.settings.profitMargin;
            document.getElementById('shipping-cost-setting').value = businessData.settings.shippingCost;
            document.getElementById('notifications-toggle').checked = businessData.settings.notifications;
        }

        // Initialize sample data
        function initializeSampleData() {
            businessData.orders = [
                {
                    id: 'ORD-001',
                    customerName: 'Tendai Moyo',
                    items: ['Men\'s Jeans (x2)', 'T-Shirts (x3)'],
                    total: 145.50,
                    date: '2023-10-15',
                    status: 'paid',
                    customerId: 'CUST-001'
                },
                {
                    id: 'ORD-002',
                    customerName: 'Anesu Chidzonga',
                    items: ['Women\'s Dresses (x2)', 'Shoes (x1)'],
                    total: 98.75,
                    date: '2023-10-18',
                    status: 'shipped',
                    customerId: 'CUST-002'
                }
            ];
            
            businessData.purchases = [
                {
                    id: 'PUR-001',
                    date: '2023-10-10',
                    item: 'Men\'s Jeans',
                    category: 'men',
                    quantity: 10,
                    price: 25000,
                    supplier: 'Kariakoo Wholesale'
                },
                {
                    id: 'PUR-002',
                    date: '2023-10-12',
                    item: 'T-Shirts',
                    category: 'men',
                    quantity: 15,
                    price: 8000,
                    supplier: 'Mwanamboka Stores'
                }
            ];
            
            businessData.customers = [
                {
                    id: 'CUST-001',
                    name: 'Tendai Moyo',
                    phone: '+263 77 123 4567',
                    email: 'tendai@example.com',
                    location: 'Harare'
                },
                {
                    id: 'CUST-002',
                    name: 'Anesu Chidzonga',
                    phone: '+263 71 987 6543',
                    email: 'anesu@example.com',
                    location: 'Bulawayo'
                }
            ];
            
            businessData.inventory = [
                {
                    id: 'INV-001',
                    name: 'Men\'s Jeans',
                    category: 'men',
                    quantity: 8,
                    cost: 10.00,
                    value: 80.00
                },
                {
                    id: 'INV-002',
                    name: 'T-Shirts',
                    category: 'men',
                    quantity: 12,
                    cost: 3.20,
                    value: 38.40
                }
            ];
            
            saveData();
        }
    </script>
</body>
</html>
