<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AfriTrade Connect | Tanzania-Zimbabwe Clothing Business</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --primary: #0f172a;
            --primary-light: #1e293b;
            --secondary: #3b82f6;
            --secondary-light: #60a5fa;
            --accent: #f59e0b;
            --success: #10b981;
            --warning: #f59e0b;
            --error: #ef4444;
            --light: #f8fafc;
            --dark: #0f172a;
            --sidebar: #1e293b;
            --sidebar-hover: #334155;
            --header: #ffffff;
            --card-bg: #ffffff;
            --text: #1e293b;
            --text-light: #64748b;
            --text-muted: #94a3b8;
            --border: #e2e8f0;
            --border-light: #f1f5f9;
            --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
            --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
            --gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --gradient-light: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            --gradient-success: linear-gradient(135deg, #d299c2 0%, #fef9d3 100%);
            --gradient-warning: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            --zim-gradient: linear-gradient(135deg, #009739 0%, #ffca08 50%, #de2110 100%);
            --tza-gradient: linear-gradient(135deg, #1eb53a 0%, #00a3dd 33%, #00a3dd 66%, #1eb53a 100%);
            --glass: rgba(255, 255, 255, 0.25);
            --glass-border: rgba(255, 255, 255, 0.18);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: var(--text);
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--border-light);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--text-muted);
            border-radius: 4px;
            transition: background 0.3s ease;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--text-light);
        }

        /* Firefox scrollbar */
        * {
            scrollbar-width: thin;
            scrollbar-color: var(--text-muted) var(--border-light);
        }

        .container {
            display: flex;
            width: 100%;
            min-height: 100vh;
            backdrop-filter: blur(10px);
        }

        /* Sidebar Styles */
        .sidebar {
            width: 280px;
            background: rgba(30, 41, 59, 0.95);
            backdrop-filter: blur(20px);
            border-right: 1px solid var(--glass-border);
            color: white;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: var(--shadow-xl);
            z-index: 100;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
        }

        .sidebar-header {
            padding: 32px 24px;
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(147, 51, 234, 0.1) 100%);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
        }

        .sidebar-header h2 {
            font-size: 1.5rem;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            font-weight: 700;
            background: linear-gradient(135deg, #60a5fa 0%, #a78bfa 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .sidebar-header p {
            font-size: 0.875rem;
            opacity: 0.8;
            font-weight: 400;
        }

        .location-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            margin: 0 4px;
            font-weight: 500;
            backdrop-filter: blur(10px);
        }

        .location-tz {
            background: rgba(30, 181, 58, 0.2);
            color: #4ade80;
            border: 1px solid rgba(30, 181, 58, 0.3);
        }

        .location-zw {
            background: rgba(255, 202, 8, 0.2);
            color: #fbbf24;
            border: 1px solid rgba(255, 202, 8, 0.3);
        }

        .sidebar-menu {
            padding: 24px 0;
        }

        .menu-item {
            padding: 16px 24px;
            display: flex;
            align-items: center;
            gap: 16px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border-left: 4px solid transparent;
            font-weight: 500;
            margin: 4px 12px;
            border-radius: 12px;
            position: relative;
            overflow: hidden;
        }

        .menu-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(147, 51, 234, 0.1) 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .menu-item:hover::before {
            opacity: 1;
        }

        .menu-item:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateX(8px);
            box-shadow: var(--shadow-lg);
        }

        .menu-item.active {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.2) 0%, rgba(147, 51, 234, 0.2) 100%);
            border-left: 4px solid var(--secondary);
            box-shadow: var(--shadow-lg);
            transform: translateX(8px);
        }

        .menu-item.active::before {
            opacity: 1;
        }

        .menu-item i {
            width: 20px;
            text-align: center;
            font-size: 1.125rem;
            z-index: 1;
            position: relative;
        }

        .menu-item span {
            z-index: 1;
            position: relative;
        }

        /* Main Content Styles */
        .main-content {
            flex: 1;
            padding: 32px;
            overflow-y: auto;
            margin-left: 280px;
            width: calc(100% - 280px);
            background: rgba(248, 250, 252, 0.8);
            backdrop-filter: blur(20px);
            min-height: 100vh;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 32px;
            background: var(--header);
            padding: 24px 32px;
            border-radius: 20px;
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--border);
            backdrop-filter: blur(20px);
        }

        .header h1 {
            color: var(--primary);
            font-size: 2rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .user-avatar {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: var(--gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            box-shadow: var(--shadow-lg);
            font-size: 1.125rem;
        }

        .user-details {
            display: flex;
            flex-direction: column;
        }

        .user-name {
            font-weight: 600;
            color: var(--text);
            font-size: 1rem;
        }

        .user-role {
            font-size: 0.875rem;
            color: var(--text-light);
        }

        /* Dashboard Styles */
        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
            margin-bottom: 32px;
        }

        .card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 32px;
            box-shadow: var(--shadow-lg);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid var(--border);
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(20px);
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--gradient);
        }

        .card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-xl);
        }

        .card h3 {
            color: var(--text-light);
            margin-bottom: 16px;
            font-size: 0.875rem;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .card .value {
            font-size: 2.5rem;
            font-weight: 800;
            margin: 16px 0;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .card.income::before {
            background: linear-gradient(135deg, #10b981 0%, #34d399 100%);
        }

        .card.income .value {
            background: linear-gradient(135deg, #10b981 0%, #34d399 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .card.expenses::before {
            background: linear-gradient(135deg, #ef4444 0%, #f87171 100%);
        }

        .card.expenses .value {
            background: linear-gradient(135deg, #ef4444 0%, #f87171 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .card.profit::before {
            background: linear-gradient(135deg, #3b82f6 0%, #60a5fa 100%);
        }

        .card.profit .value {
            background: linear-gradient(135deg, #3b82f6 0%, #60a5fa 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .card.exchange::before {
            background: linear-gradient(135deg, #f59e0b 0%, #fbbf24 100%);
        }

        .card.exchange .value {
            background: linear-gradient(135deg, #f59e0b 0%, #fbbf24 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 1.5rem;
        }

        .card-trend {
            font-size: 0.875rem;
            display: flex;
            align-items: center;
            gap: 6px;
            margin-top: 12px;
            font-weight: 500;
        }

        .trend-up {
            color: var(--success);
        }

        .trend-down {
            color: var(--error);
        }

        /* Content Sections */
        .content-section {
            display: none;
            background: var(--card-bg);
            border-radius: 20px;
            padding: 32px;
            box-shadow: var(--shadow-lg);
            margin-bottom: 32px;
            border: 1px solid var(--border);
            backdrop-filter: blur(20px);
        }

        .content-section.active {
            display: block;
            animation: fadeInUp 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 32px;
            padding-bottom: 24px;
            border-bottom: 2px solid var(--border-light);
        }

        .section-header h2 {
            color: var(--primary);
            font-size: 1.75rem;
            display: flex;
            align-items: center;
            gap: 12px;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Form Styles */
        .form-row {
            display: flex;
            gap: 24px;
            margin-bottom: 24px;
        }

        .form-group {
            flex: 1;
            margin-bottom: 24px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--primary);
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        input,
        select,
        textarea {
            width: 100%;
            padding: 16px;
            border: 2px solid var(--border);
            border-radius: 12px;
            font-size: 1rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            background: var(--light);
            font-family: inherit;
        }

        input:focus,
        select:focus,
        textarea:focus {
            border-color: var(--secondary);
            outline: none;
            box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.1);
            background: white;
            transform: translateY(-2px);
        }

        .btn {
            padding: 16px 32px;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: inline-flex;
            align-items: center;
            gap: 8px;
            box-shadow: var(--shadow);
            font-family: inherit;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--secondary) 0%, #1d4ed8 100%);
            color: white;
        }

        .btn-primary:hover {
            background: linear-gradient(135deg, #1d4ed8 0%, var(--secondary) 100%);
            transform: translateY(-2px);
            box-shadow: var(--shadow-xl);
        }

        .btn-success {
            background: linear-gradient(135deg, var(--success) 0%, #059669 100%);
            color: white;
        }

        .btn-success:hover {
            background: linear-gradient(135deg, #059669 0%, var(--success) 100%);
            transform: translateY(-2px);
            box-shadow: var(--shadow-xl);
        }

        .btn-danger {
            background: linear-gradient(135deg, var(--error) 0%, #dc2626 100%);
            color: white;
        }

        .btn-danger:hover {
            background: linear-gradient(135deg, #dc2626 0%, var(--error) 100%);
            transform: translateY(-2px);
            box-shadow: var(--shadow-xl);
        }

        .btn-warning {
            background: linear-gradient(135deg, var(--warning) 0%, #d97706 100%);
            color: white;
        }

        .btn-warning:hover {
            background: linear-gradient(135deg, #d97706 0%, var(--warning) 100%);
            transform: translateY(-2px);
            box-shadow: var(--shadow-xl);
        }

        /* Table Styles */
        .table-container {
            overflow-x: auto;
            border-radius: 16px;
            box-shadow: var(--shadow);
            margin-top: 24px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
        }

        th,
        td {
            padding: 16px;
            text-align: left;
            border-bottom: 1px solid var(--border-light);
        }

        th {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            font-weight: 600;
            color: white;
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        tr:hover {
            background: var(--light);
        }

        .action-buttons {
            display: flex;
            gap: 8px;
        }

        .action-btn {
            padding: 8px 12px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.875rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .edit-btn {
            background: linear-gradient(135deg, var(--warning) 0%, #d97706 100%);
            color: white;
        }

        .edit-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        .delete-btn {
            background: linear-gradient(135deg, var(--error) 0%, #dc2626 100%);
            color: white;
        }

        .delete-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        /* Status badges */
        .status-badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .status-pending {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            color: #92400e;
        }

        .status-paid {
            background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
            color: #065f46;
        }

        .status-shipped {
            background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
            color: #1e40af;
        }

        .status-delivered {
            background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%);
            color: #166534;
        }

        /* Profit Calculation */
        .profit-calculation {
            background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
            border-radius: 16px;
            padding: 24px;
            margin: 24px 0;
            border: 2px solid #bbf7d0;
            box-shadow: var(--shadow);
        }

        .profit-calculation h3 {
            color: var(--success);
            margin-bottom: 20px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .profit-row {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid #bbf7d0;
            font-weight: 500;
        }

        .profit-row:last-child {
            border-bottom: none;
            font-weight: 700;
            font-size: 1.125rem;
            color: var(--success);
        }

        .profit-row.total {
            background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%);
            margin: 16px -24px -24px -24px;
            padding: 20px 24px;
            border-radius: 0 0 16px 16px;
        }

        /* Currency Toggle */
        .currency-toggle {
            display: flex;
            gap: 8px;
            margin-bottom: 24px;
            background: var(--border-light);
            padding: 4px;
            border-radius: 12px;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .currency-option {
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .currency-option.active {
            background: linear-gradient(135deg, var(--secondary) 0%, #1d4ed8 100%);
            color: white;
            box-shadow: var(--shadow);
            transform: translateY(-1px);
        }

        /* Workflow Steps */
        .workflow-steps {
            display: flex;
            justify-content: space-between;
            margin: 32px 0;
            position: relative;
        }

        .workflow-steps::before {
            content: '';
            position: absolute;
            top: 24px;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(135deg, var(--border) 0%, var(--border-light) 100%);
            z-index: 1;
            border-radius: 2px;
        }

        .workflow-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 2;
            background: var(--light);
            padding: 8px;
            border-radius: 12px;
        }

        .step-icon {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: white;
            border: 3px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 12px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-size: 1.125rem;
        }

        .step-active .step-icon {
            background: linear-gradient(135deg, var(--secondary) 0%, #1d4ed8 100%);
            border-color: var(--secondary);
            color: white;
            box-shadow: var(--shadow-lg);
            transform: scale(1.1);
        }

        .step-complete .step-icon {
            background: linear-gradient(135deg, var(--success) 0%, #059669 100%);
            border-color: var(--success);
            color: white;
            box-shadow: var(--shadow-lg);
        }

        .step-label {
            font-size: 0.875rem;
            font-weight: 600;
            text-align: center;
            color: var(--text-light);
        }

        .step-active .step-label,
        .step-complete .step-label {
            color: var(--text);
        }

        /* Inventory Grid */
        .inventory-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 24px;
            margin-top: 24px;
        }

        .inventory-item {
            background: white;
            border-radius: 16px;
            padding: 24px;
            box-shadow: var(--shadow);
            border: 2px solid var(--border);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .inventory-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(135deg, var(--secondary) 0%, #1d4ed8 100%);
        }

        .inventory-item:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-xl);
        }

        .inventory-item.low-stock::before {
            background: linear-gradient(135deg, var(--error) 0%, #dc2626 100%);
        }

        .inventory-item h4 {
            margin-bottom: 16px;
            color: var(--primary);
            font-weight: 700;
            font-size: 1.125rem;
        }

        .inventory-meta {
            display: flex;
            justify-content: space-between;
            font-size: 0.875rem;
            color: var(--text-light);
            margin-bottom: 12px;
            font-weight: 500;
        }

        /* Progress bars */
        .progress-bar {
            height: 8px;
            background: var(--border-light);
            border-radius: 4px;
            overflow: hidden;
            margin-top: 12px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, var(--secondary) 0%, #1d4ed8 100%);
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        /* Analytics Summary */
        .analytics-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 24px;
            margin-bottom: 32px;
        }

        .summary-card {
            background: white;
            border-radius: 16px;
            padding: 24px;
            text-align: center;
            box-shadow: var(--shadow);
            border: 2px solid var(--border);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .summary-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--gradient);
        }

        .summary-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-xl);
        }

        .summary-card h3 {
            font-size: 0.875rem;
            color: var(--text-light);
            margin-bottom: 16px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .summary-card .value {
            font-size: 2.25rem;
            font-weight: 800;
            margin: 16px 0;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .summary-card .change {
            font-size: 0.875rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            font-weight: 500;
        }

        /* Charts Container */
        .charts-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
            margin-top: 32px;
        }

        .chart {
            background: white;
            border-radius: 16px;
            padding: 24px;
            box-shadow: var(--shadow);
            border: 2px solid var(--border);
        }

        .chart h3 {
            margin-bottom: 24px;
            color: var(--primary);
            font-weight: 700;
            font-size: 1.125rem;
        }

        .chart-placeholder {
            height: 300px;
            background: linear-gradient(135deg, var(--light) 0%, #e2e8f0 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-light);
            font-size: 1.125rem;
            flex-direction: column;
            gap: 16px;
            font-weight: 500;
        }

        /* Notifications */
        .notification {
            position: fixed;
            top: 24px;
            right: 24px;
            padding: 20px 24px;
            border-radius: 12px;
            color: white;
            font-weight: 600;
            box-shadow: var(--shadow-xl);
            z-index: 1000;
            transform: translateX(150%);
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            gap: 12px;
            min-width: 320px;
            backdrop-filter: blur(20px);
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            background: linear-gradient(135deg, var(--success) 0%, #059669 100%);
        }

        .notification.error {
            background: linear-gradient(135deg, var(--error) 0%, #dc2626 100%);
        }

        .notification.warning {
            background: linear-gradient(135deg, var(--warning) 0%, #d97706 100%);
        }

        /* Mobile Menu Toggle */
        .mobile-menu-toggle {
            display: none;
            background: linear-gradient(135deg, var(--secondary) 0%, #1d4ed8 100%);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 16px 24px;
            font-size: 1rem;
            cursor: pointer;
            margin-bottom: 24px;
            width: 100%;
            justify-content: center;
            align-items: center;
            gap: 12px;
            font-weight: 600;
            box-shadow: var(--shadow);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .mobile-menu-toggle:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-xl);
        }

        /* Contacts Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.6);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            padding: 24px;
            backdrop-filter: blur(10px);
        }

        .modal {
            background: white;
            border-radius: 20px;
            width: 100%;
            max-width: 500px;
            max-height: 80vh;
            overflow: hidden;
            box-shadow: var(--shadow-xl);
            border: 2px solid var(--border);
        }

        .modal-header {
            padding: 24px;
            border-bottom: 2px solid var(--border-light);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--light);
        }

        .modal-header h3 {
            color: var(--primary);
            font-size: 1.25rem;
            font-weight: 700;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-light);
            padding: 8px;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            background: var(--border-light);
            color: var(--text);
        }

        .modal-body {
            padding: 24px;
            max-height: 60vh;
            overflow-y: auto;
        }

        .contacts-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .contact-item {
            padding: 16px;
            border: 2px solid var(--border);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .contact-item:hover {
            background: var(--light);
            border-color: var(--secondary);
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        .contact-item.selected {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(147, 51, 234, 0.1) 100%);
            border-color: var(--secondary);
            box-shadow: var(--shadow);
        }

        .contact-name {
            font-weight: 600;
            margin-bottom: 4px;
            color: var(--text);
        }

        .contact-phone {
            color: var(--text-light);
            font-size: 0.875rem;
        }

        .modal-footer {
            padding: 24px;
            border-top: 2px solid var(--border-light);
            display: flex;
            justify-content: flex-end;
            gap: 12px;
            background: var(--light);
        }

        /* Footer */
        footer {
            text-align: center;
            margin-top: 48px;
            padding: 32px;
            color: var(--text-light);
            font-size: 0.875rem;
            border-top: 2px solid var(--border-light);
            background: var(--light);
            border-radius: 16px;
        }

        /* Responsive Design */
        @media (max-width: 1200px) {
            .sidebar {
                width: 240px;
            }

            .main-content {
                margin-left: 240px;
                width: calc(100% - 240px);
            }
        }

        @media (max-width: 992px) {
            .container {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
                height: auto;
                position: relative;
                display: none;
            }

            .sidebar.active {
                display: block;
            }

            .sidebar-menu {
                display: flex;
                overflow-x: auto;
                padding: 16px;
                gap: 8px;
            }

            .menu-item {
                white-space: nowrap;
                border-left: none;
                border-bottom: 4px solid transparent;
                margin: 0;
                padding: 12px 16px;
                min-width: auto;
            }

            .menu-item.active {
                border-left: none;
                border-bottom: 4px solid var(--secondary);
            }

            .main-content {
                margin-left: 0;
                padding: 24px;
                width: 100%;
            }

            .charts-container {
                grid-template-columns: 1fr;
            }

            .mobile-menu-toggle {
                display: flex;
            }
        }

        @media (max-width: 768px) {
            .form-row {
                flex-direction: column;
                gap: 0;
            }

            .header {
                flex-direction: column;
                gap: 16px;
                align-items: flex-start;
                padding: 20px;
            }

            .dashboard {
                grid-template-columns: 1fr;
            }

            .header h1 {
                font-size: 1.5rem;
            }

            .user-info {
                width: 100%;
                justify-content: space-between;
            }

            .card .value {
                font-size: 2rem;
            }

            .section-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 16px;
            }

            .section-header h2 {
                font-size: 1.5rem;
            }

            .table-container {
                overflow-x: auto;
            }

            .content-section {
                padding: 24px;
            }

            .profit-calculation {
                padding: 20px;
            }

            .workflow-steps {
                flex-wrap: wrap;
                justify-content: center;
                gap: 16px;
            }

            .workflow-step {
                flex: 0 0 calc(33.333% - 12px);
            }

            .notification {
                min-width: 280px;
                right: 16px;
                top: 16px;
            }

            .main-content {
                padding: 16px;
            }
        }

        @media (max-width: 480px) {
            .header {
                padding: 16px;
            }

            .card {
                padding: 20px;
            }

            .workflow-step {
                flex: 0 0 calc(50% - 8px);
            }

            .currency-toggle {
                flex-direction: column;
            }

            .user-avatar {
                width: 40px;
                height: 40px;
            }

            .btn {
                padding: 14px 20px;
                font-size: 0.875rem;
            }

            .sidebar-header h2 {
                font-size: 1.25rem;
            }

            .menu-item {
                padding: 12px 16px;
                font-size: 0.875rem;
            }

            .modal {
                width: 95%;
                margin: 16px;
            }
        }

        /* Toggle Switch */
        .toggle-container {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 24px;
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 32px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--border);
            transition: .4s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 32px;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 24px;
            width: 24px;
            left: 4px;
            bottom: 4px;
            background: white;
            transition: .4s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 50%;
            box-shadow: var(--shadow);
        }

        input:checked+.slider {
            background: linear-gradient(135deg, var(--secondary) 0%, #1d4ed8 100%);
        }

        input:checked+.slider:before {
            transform: translateX(28px);
        }

        /* Loading animation */
        @keyframes pulse {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.5;
            }
        }

        .loading {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }

        /* Smooth transitions for all interactive elements */
        * {
            transition: color 0.3s ease, background-color 0.3s ease, border-color 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease;
        }
    </style>
</head>

<body>
    <div class="container">
        <!-- Mobile Menu Toggle -->
        <button class="mobile-menu-toggle" id="mobile-menu-toggle">
            <i class="fas fa-bars"></i> Menu
        </button>

        <!-- Sidebar -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h2><i class="fas fa-tshirt"></i> AfriTrade Connect</h2>
                <p>Connecting <span class="location-badge location-tz"><i class="fas fa-flag"></i> Kariakoo</span> to
                    <span class="location-badge location-zw"><i class="fas fa-flag"></i> Zimbabwe</span></p>
            </div>
            <div class="sidebar-menu">
                <div class="menu-item active" data-section="dashboard">
                    <i class="fas fa-chart-line"></i>
                    <span>Dashboard</span>
                </div>
                <div class="menu-item" data-section="orders">
                    <i class="fas fa-shopping-bag"></i>
                    <span>Customer Orders</span>
                </div>
                <div class="menu-item" data-section="purchases">
                    <i class="fas fa-shopping-cart"></i>
                    <span>Kariakoo Purchases</span>
                </div>
                <div class="menu-item" data-section="shipments">
                    <i class="fas fa-shipping-fast"></i>
                    <span>Shipments</span>
                </div>
                <div class="menu-item" data-section="inventory">
                    <i class="fas fa-boxes"></i>
                    <span>Inventory</span>
                </div>
                <div class="menu-item" data-section="payments">
                    <i class="fas fa-money-bill-wave"></i>
                    <span>Payments</span>
                </div>
                <div class="menu-item" data-section="customers">
                    <i class="fas fa-users"></i>
                    <span>Customers</span>
                </div>
                <div class="menu-item" data-section="analytics">
                    <i class="fas fa-chart-bar"></i>
                    <span>Analytics</span>
                </div>
                <div class="menu-item" data-section="settings">
                    <i class="fas fa-cog"></i>
                    <span>Settings</span>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <div class="header">
                <h1>Business Dashboard</h1>
                <div class="user-info">
                    <div class="currency-toggle">
                        <div class="currency-option active" data-currency="usd">USD</div>
                        <div class="currency-option" data-currency="tzs">TZS</div>
                    </div>
                    <div class="user-avatar">SC</div>
                    <div class="user-details">
                        <div class="user-name">Shingie's Closet</div>
                        <div class="user-role">Trade Middleman</div>
                    </div>
                </div>
            </div>

            <!-- Dashboard Section -->
            <div class="content-section active" id="dashboard-section">
                <div class="dashboard">
                    <div class="card income">
                        <h3><i class="fas fa-money-bill-wave"></i> Total Revenue</h3>
                        <div class="value" id="total-revenue">$0.00</div>
                        <div class="card-trend trend-up">
                            <i class="fas fa-arrow-up"></i>
                            <span>15% increase this month</span>
                        </div>
                    </div>
                    <div class="card expenses">
                        <h3><i class="fas fa-receipt"></i> Kariakoo Expenses</h3>
                        <div class="value" id="total-expenses">$0.00</div>
                        <div class="card-trend trend-down">
                            <i class="fas fa-arrow-down"></i>
                            <span>8% decrease this month</span>
                        </div>
                    </div>
                    <div class="card profit">
                        <h3><i class="fas fa-chart-line"></i> Net Profit</h3>
                        <div class="value" id="net-profit">$0.00</div>
                        <div class="card-trend trend-up">
                            <i class="fas fa-arrow-up"></i>
                            <span>22% increase this month</span>
                        </div>
                    </div>
                    <div class="card exchange">
                        <h3><i class="fas fa-exchange-alt"></i> Exchange Rate</h3>
                        <div class="value" id="exchange-rate">1 USD = TZS 0.00</div>
                        <p>Last updated: <span id="rate-date">-</span></p>
                    </div>
                </div>

                <div class="profit-calculation">
                    <h3><i class="fas fa-calculator"></i> Profit Calculation (35% Markup)</h3>
                    <div class="profit-row">
                        <span>Purchase Cost (Kariakoo):</span>
                        <span id="purchase-cost-display">$0.00</span>
                    </div>
                    <div class="profit-row">
                        <span>35% Markup:</span>
                        <span id="markup-amount">$0.00</span>
                    </div>
                    <div class="profit-row">
                        <span>Selling Price (Zimbabwe):</span>
                        <span id="selling-price">$0.00</span>
                    </div>
                    <div class="profit-row">
                        <span>Transport Costs:</span>
                        <span id="transport-costs">$0.00</span>
                    </div>
                    <div class="profit-row total">
                        <span>Net Profit:</span>
                        <span id="net-profit-display">$0.00</span>
                    </div>
                </div>

                <div class="section-header">
                    <h2><i class="fas fa-sync-alt"></i> Active Order Workflow</h2>
                </div>

                <div class="workflow-steps">
                    <div class="workflow-step step-complete">
                        <div class="step-icon">
                            <i class="fas fa-clipboard-list"></i>
                        </div>
                        <div class="step-label">Order Received</div>
                    </div>
                    <div class="workflow-step step-complete">
                        <div class="step-icon">
                            <i class="fas fa-money-bill-wave"></i>
                        </div>
                        <div class="step-label">Payment Collected</div>
                    </div>
                    <div class="workflow-step step-active">
                        <div class="step-icon">
                            <i class="fas fa-shopping-cart"></i>
                        </div>
                        <div class="step-label">Kariakoo Purchase</div>
                    </div>
                    <div class="workflow-step">
                        <div class="step-icon">
                            <i class="fas fa-shipping-fast"></i>
                        </div>
                        <div class="step-label">In Transit</div>
                    </div>
                    <div class="workflow-step">
                        <div class="step-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="step-label">Delivered</div>
                    </div>
                </div>

                <div class="section-header">
                    <h2><i class="fas fa-box"></i> Recent Orders</h2>
                    <button class="btn btn-primary" id="view-all-orders">
                        <i class="fas fa-eye"></i> View All
                    </button>
                </div>

                <div class="table-container">
                    <table id="recent-orders-table">
                        <thead>
                            <tr>
                                <th>Order ID</th>
                                <th>Customer</th>
                                <th>Items</th>
                                <th>Value (USD)</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Orders will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Orders Section -->
            <div class="content-section" id="orders-section">
                <div class="section-header">
                    <h2><i class="fas fa-shopping-bag"></i> Customer Orders</h2>
                    <button class="btn btn-primary" id="add-order-btn">
                        <i class="fas fa-plus"></i> Add New Order
                    </button>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="customer-search">Search Customer</label>
                        <div style="display: flex; gap: 12px;">
                            <input type="text" id="customer-search" placeholder="Enter customer name or phone">
                            <button type="button" class="btn btn-primary" id="select-from-contacts">
                                <i class="fas fa-address-book"></i> Contacts
                            </button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="order-status-filter">Filter by Status</label>
                        <select id="order-status-filter">
                            <option value="all">All Orders</option>
                            <option value="pending">Pending</option>
                            <option value="paid">Paid</option>
                            <option value="purchased">Purchased</option>
                            <option value="shipped">Shipped</option>
                            <option value="delivered">Delivered</option>
                        </select>
                    </div>
                </div>

                <div class="table-container">
                    <table id="orders-table">
                        <thead>
                            <tr>
                                <th>Order ID</th>
                                <th>Customer</th>
                                <th>Items</th>
                                <th>Total (USD)</th>
                                <th>Date</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Orders will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Purchases Section -->
            <div class="content-section" id="purchases-section">
                <div class="section-header">
                    <h2><i class="fas fa-shopping-cart"></i> Kariakoo Purchases</h2>
                    <button class="btn btn-primary" id="add-purchase-btn">
                        <i class="fas fa-plus"></i> Add Purchase
                    </button>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="purchase-item">Item Name</label>
                        <input type="text" id="purchase-item" placeholder="Enter item name">
                    </div>
                    <div class="form-group">
                        <label for="purchase-category">Category</label>
                        <select id="purchase-category">
                            <option value="men">Men's Clothing</option>
                            <option value="women">Women's Clothing</option>
                            <option value="children">Children's Clothing</option>
                            <option value="shoes">Shoes</option>
                            <option value="accessories">Accessories</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="purchase-quantity">Quantity</label>
                        <input type="number" id="purchase-quantity" placeholder="Enter quantity">
                    </div>
                    <div class="form-group">
                        <label for="purchase-price">Price (TZS)</label>
                        <input type="number" id="purchase-price" placeholder="Enter price in TZS">
                    </div>
                </div>

                <div class="form-group">
                    <label for="purchase-supplier">Supplier</label>
                    <input type="text" id="purchase-supplier" placeholder="Enter supplier name">
                </div>

                <button class="btn btn-success" id="save-purchase-btn">
                    <i class="fas fa-save"></i> Save Purchase
                </button>

                <div class="table-container">
                    <table id="purchases-table">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Item</th>
                                <th>Category</th>
                                <th>Quantity</th>
                                <th>Price (TZS)</th>
                                <th>Supplier</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Purchases will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Shipments Section -->
            <div class="content-section" id="shipments-section">
                <div class="section-header">
                    <h2><i class="fas fa-shipping-fast"></i> Shipments</h2>
                    <button class="btn btn-primary" id="add-shipment-btn">
                        <i class="fas fa-plus"></i> Add Shipment
                    </button>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="shipment-order">Order ID</label>
                        <input type="text" id="shipment-order" placeholder="Enter order ID">
                    </div>
                    <div class="form-group">
                        <label for="shipment-carrier">Carrier</label>
                        <select id="shipment-carrier">
                            <option value="dhl">DHL</option>
                            <option value="fedex">FedEx</option>
                            <option value="ups">UPS</option>
                            <option value="local">Local Carrier</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="shipment-date">Shipment Date</label>
                        <input type="date" id="shipment-date">
                    </div>
                    <div class="form-group">
                        <label for="shipment-cost">Shipping Cost (USD)</label>
                        <input type="number" id="shipment-cost" placeholder="Enter shipping cost">
                    </div>
                </div>

                <div class="form-group">
                    <label for="shipment-tracking">Tracking Number</label>
                    <input type="text" id="shipment-tracking" placeholder="Enter tracking number">
                </div>

                <button class="btn btn-success" id="save-shipment-btn">
                    <i class="fas fa-save"></i> Save Shipment
                </button>

                <div class="table-container">
                    <table id="shipments-table">
                        <thead>
                            <tr>
                                <th>Order ID</th>
                                <th>Carrier</th>
                                <th>Tracking</th>
                                <th>Date</th>
                                <th>Cost (USD)</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Shipments will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Inventory Section -->
            <div class="content-section" id="inventory-section">
                <div class="section-header">
                    <h2><i class="fas fa-boxes"></i> Inventory</h2>
                    <button class="btn btn-primary" id="add-inventory-btn">
                        <i class="fas fa-plus"></i> Add Item
                    </button>
                </div>

                <div class="inventory-grid" id="inventory-grid">
                    <!-- Inventory items will be loaded here -->
                </div>
            </div>

            <!-- Payments Section -->
            <div class="content-section" id="payments-section">
                <div class="section-header">
                    <h2><i class="fas fa-money-bill-wave"></i> Payments</h2>
                    <button class="btn btn-primary" id="add-payment-btn">
                        <i class="fas fa-plus"></i> Add Payment
                    </button>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="payment-order">Order ID</label>
                        <input type="text" id="payment-order" placeholder="Enter order ID">
                    </div>
                    <div class="form-group">
                        <label for="payment-method">Payment Method</label>
                        <select id="payment-method">
                            <option value="cash">Cash</option>
                            <option value="ecocash">Ecocash</option>
                            <option value="bank">Bank Transfer</option>
                            <option value="paypal">PayPal</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="payment-amount">Amount (USD)</label>
                        <input type="number" id="payment-amount" placeholder="Enter amount">
                    </div>
                    <div class="form-group">
                        <label for="payment-date">Payment Date</label>
                        <input type="date" id="payment-date">
                    </div>
                </div>

                <button class="btn btn-success" id="save-payment-btn">
                    <i class="fas fa-save"></i> Save Payment
                </button>

                <div class="table-container">
                    <table id="payments-table">
                        <thead>
                            <tr>
                                <th>Order ID</th>
                                <th>Amount (USD)</th>
                                <th>Method</th>
                                <th>Date</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Payments will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Customers Section -->
            <div class="content-section" id="customers-section">
                <div class="section-header">
                    <h2><i class="fas fa-users"></i> Customers</h2>
                    <button class="btn btn-primary" id="add-customer-btn">
                        <i class="fas fa-plus"></i> Add Customer
                    </button>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="customer-name">Full Name</label>
                        <input type="text" id="customer-name" placeholder="Enter customer name">
                    </div>
                    <div class="form-group">
                        <label for="customer-phone">Phone Number</label>
                        <input type="text" id="customer-phone" placeholder="Enter phone number">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="customer-email">Email</label>
                        <input type="email" id="customer-email" placeholder="Enter email address">
                    </div>
                    <div class="form-group">
                        <label for="customer-location">Location</label>
                        <input type="text" id="customer-location" placeholder="Enter location in Zimbabwe">
                    </div>
                </div>

                <button class="btn btn-success" id="save-customer-btn">
                    <i class="fas fa-save"></i> Save Customer
                </button>

                <div class="table-container">
                    <table id="customers-table">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Phone</th>
                                <th>Email</th>
                                <th>Location</th>
                                <th>Orders</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Customers will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Analytics Section -->
            <div class="content-section" id="analytics-section">
                <div class="section-header">
                    <h2><i class="fas fa-chart-bar"></i> Business Analytics</h2>
                </div>

                <div class="analytics-summary">
                    <div class="summary-card">
                        <h3>Total Orders</h3>
                        <div class="value" id="total-orders">0</div>
                        <div class="change trend-up">
                            <i class="fas fa-arrow-up"></i>
                            <span>12% from last month</span>
                        </div>
                    </div>
                    <div class="summary-card">
                        <h3>Revenue (USD)</h3>
                        <div class="value" id="revenue-analytics">$0.00</div>
                        <div class="change trend-up">
                            <i class="fas fa-arrow-up"></i>
                            <span>15% from last month</span>
                        </div>
                    </div>
                    <div class="summary-card">
                        <h3>Profit Margin</h3>
                        <div class="value" id="profit-margin">0%</div>
                        <div class="change trend-up">
                            <i class="fas fa-arrow-up"></i>
                            <span>5% from last month</span>
                        </div>
                    </div>
                    <div class="summary-card">
                        <h3>Customer Growth</h3>
                        <div class="value" id="customer-growth">0%</div>
                        <div class="change trend-up">
                            <i class="fas fa-arrow-up"></i>
                            <span>8% from last month</span>
                        </div>
                    </div>
                </div>

                <div class="charts-container">
                    <div class="chart">
                        <h3>Monthly Revenue</h3>
                        <div class="chart-placeholder">
                            <i class="fas fa-chart-line fa-3x"></i>
                            <p>Revenue chart will appear here</p>
                        </div>
                    </div>
                    <div class="chart">
                        <h3>Top Selling Categories</h3>
                        <div class="chart-placeholder">
                            <i class="fas fa-chart-pie fa-3x"></i>
                            <p>Category chart will appear here</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Settings Section -->
            <div class="content-section" id="settings-section">
                <div class="section-header">
                    <h2><i class="fas fa-cog"></i> Settings</h2>
                </div>

                <div class="form-group">
                    <label for="exchange-rate-setting">Exchange Rate (1 USD to TZS)</label>
                    <input type="number" id="exchange-rate-setting" placeholder="Enter current exchange rate">
                </div>

                <div class="form-group">
                    <label for="profit-margin-setting">Default Profit Margin (%)</label>
                    <input type="number" id="profit-margin-setting" value="35" placeholder="Enter profit margin">
                </div>

                <div class="form-group">
                    <label for="shipping-cost-setting">Default Shipping Cost (USD)</label>
                    <input type="number" id="shipping-cost-setting" placeholder="Enter shipping cost">
                </div>

                <div class="toggle-container">
                    <span>Enable Notifications</span>
                    <label class="toggle-switch">
                        <input type="checkbox" id="notifications-toggle" checked>
                        <span class="slider"></span>
                    </label>
                </div>

                <button class="btn btn-success" id="save-settings-btn">
                    <i class="fas fa-save"></i> Save Settings
                </button>

                <div class="form-group" style="margin-top: 32px;">
                    <h3>Data Management</h3>
                    <div style="display: flex; gap: 12px; margin-top: 16px;">
                        <button class="btn btn-warning" id="export-data-btn">
                            <i class="fas fa-file-export"></i> Export Data
                        </button>
                        <button class="btn btn-danger" id="reset-data-btn">
                            <i class="fas fa-trash"></i> Reset All Data
                        </button>
                    </div>
                </div>
            </div>

            <footer>
                <p>AfriTrade Connect &copy; 2024 | Tanzania-Zimbabwe Clothing Trade Management System</p>
                <p>Empowering cross-border trade with modern technology</p>
            </footer>
        </div>
    </div>

    <!-- Notification -->
    <div class="notification" id="notification">
        <i class="fas fa-check-circle"></i>
        <span id="notification-text">Operation completed successfully!</span>
    </div>

    <!-- Contacts Modal -->
    <div class="modal-overlay" id="contacts-modal" style="display: none;">
        <div class="modal">
            <div class="modal-header">
                <h3>Select from Phone Contacts</h3>
                <button class="modal-close" id="close-contacts-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="contacts-list" id="contacts-list">
                    <!-- Contacts will be loaded here -->
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-warning" id="cancel-contact-selection">Cancel</button>
                <button class="btn btn-success" id="confirm-contact-selection">Select Contact</button>
            </div>
        </div>
    </div>

    <script>
        // Initialize data storage with enhanced structure
        let businessData = {
            orders: [],
            purchases: [],
            shipments: [],
            inventory: [],
            payments: [],
            customers: [],
            settings: {
                exchangeRate: 2500,
                profitMargin: 35,
                shippingCost: 50,
                notifications: true,
                currency: 'usd',
                theme: 'light'
            },
            analytics: {
                monthlyRevenue: [],
                topCategories: [],
                customerGrowth: 0
            }
        };

        // DOM Elements
        const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
        const sidebar = document.getElementById('sidebar');
        const menuItems = document.querySelectorAll('.menu-item');
        const contentSections = document.querySelectorAll('.content-section');
        const currencyOptions = document.querySelectorAll('.currency-option');
        const notification = document.getElementById('notification');
        const notificationText = document.getElementById('notification-text');

        // Contacts modal elements
        const contactsModal = document.getElementById('contacts-modal');
        const contactsList = document.getElementById('contacts-list');
        const closeContactsModal = document.getElementById('close-contacts-modal');
        const cancelContactSelection = document.getElementById('cancel-contact-selection');
        const confirmContactSelection = document.getElementById('confirm-contact-selection');
        const selectFromContactsBtn = document.getElementById('select-from-contacts');

        // Selected contact
        let selectedContact = null;
        let currentCurrency = 'usd';

        // Initialize the app
        document.addEventListener('DOMContentLoaded', function () {
            loadData();
            initializeEventListeners();
            updateDashboard();
            showSection('dashboard');

            // Add loading animation
            document.body.classList.add('loading');
            setTimeout(() => {
                document.body.classList.remove('loading');
            }, 1000);
        });

        // Initialize event listeners
        function initializeEventListeners() {
            // Mobile menu toggle
            mobileMenuToggle.addEventListener('click', function () {
                sidebar.classList.toggle('active');
            });

            // Menu item clicks
            menuItems.forEach(item => {
                item.addEventListener('click', function () {
                    const sectionId = this.getAttribute('data-section');
                    showSection(sectionId);

                    // Update active menu item
                    menuItems.forEach(i => i.classList.remove('active'));
                    this.classList.add('active');

                    // Close mobile menu after selection
                    if (window.innerWidth <= 992) {
                        sidebar.classList.remove('active');
                    }
                });
            });

            // Currency toggle
            currencyOptions.forEach(option => {
                option.addEventListener('click', function () {
                    currencyOptions.forEach(o => o.classList.remove('active'));
                    this.classList.add('active');
                    currentCurrency = this.getAttribute('data-currency');
                    updateCurrencyDisplay(currentCurrency);
                });
            });

            // Form submission buttons
            document.getElementById('save-purchase-btn').addEventListener('click', savePurchase);
            document.getElementById('save-shipment-btn').addEventListener('click', saveShipment);
            document.getElementById('save-payment-btn').addEventListener('click', savePayment);
            document.getElementById('save-customer-btn').addEventListener('click', saveCustomer);
            document.getElementById('save-settings-btn').addEventListener('click', saveSettings);

            // Data management buttons
            document.getElementById('export-data-btn').addEventListener('click', exportData);
            document.getElementById('reset-data-btn').addEventListener('click', resetData);

            // Add buttons
            document.getElementById('add-order-btn').addEventListener('click', () => showSection('orders'));
            document.getElementById('add-purchase-btn').addEventListener('click', () => showSection('purchases'));
            document.getElementById('add-shipment-btn').addEventListener('click', () => showSection('shipments'));
            document.getElementById('add-inventory-btn').addEventListener('click', () => showSection('inventory'));
            document.getElementById('add-payment-btn').addEventListener('click', () => showSection('payments'));
            document.getElementById('add-customer-btn').addEventListener('click', () => showSection('customers'));
            document.getElementById('view-all-orders').addEventListener('click', () => showSection('orders'));

            // Contacts modal
            selectFromContactsBtn.addEventListener('click', openContactsModal);
            closeContactsModal.addEventListener('click', closeContactsModalFunc);
            cancelContactSelection.addEventListener('click', closeContactsModalFunc);
            confirmContactSelection.addEventListener('click', confirmContactSelectionFunc);

            // Order status filter
            document.getElementById('order-status-filter').addEventListener('change', filterOrders);

            // Customer search
            document.getElementById('customer-search').addEventListener('input', searchCustomers);

            // Close modal when clicking outside
            contactsModal.addEventListener('click', function (e) {
                if (e.target === contactsModal) {
                    closeContactsModalFunc();
                }
            });
        }

        // Open contacts modal
        function openContactsModal() {
            // Check if Contacts API is available
            if ('contacts' in navigator && 'select' in navigator.contacts) {
                // Use the Contacts API to get phone contacts
                navigator.contacts.select(['name', 'tel'], { multiple: false })
                    .then(contacts => {
                        if (contacts && contacts.length > 0) {
                            const contact = contacts[0];
                            // Auto-fill the customer form with selected contact
                            document.getElementById('customer-search').value = contact.name ? contact.name[0] : '';
                            if (contact.tel && contact.tel.length > 0) {
                                document.getElementById('customer-phone').value = contact.tel[0];
                            }
                            showNotification('Contact selected successfully!', 'success');
                        }
                    })
                    .catch(err => {
                        console.error('Error accessing contacts:', err);
                        showNotification('Could not access contacts. Showing sample contacts.', 'warning');
                        // Fallback: Show manual contact selection
                        showManualContactsModal();
                    });
            } else {
                // Fallback for browsers that don't support Contacts API
                showManualContactsModal();
            }
        }

        // Show manual contacts modal (fallback)
        function showManualContactsModal() {
            contactsList.innerHTML = '';

            const sampleContacts = [
                { name: 'Tendai Moyo', phone: '+263 77 123 4567' },
                { name: 'Anesu Chidzonga', phone: '+263 71 987 6543' },
                { name: 'Farai Banda', phone: '+263 78 456 7890' },
                { name: 'Rudo Maphosa', phone: '+263 77 555 1212' },
                { name: 'Tatenda Ndlovu', phone: '+263 71 333 4444' },
                { name: 'Grace Mukamuri', phone: '+263 78 777 8888' },
                { name: 'Blessing Chikwanha', phone: '+263 77 999 0000' }
            ];

            sampleContacts.forEach(contact => {
                const contactItem = document.createElement('div');
                contactItem.className = 'contact-item';
                contactItem.innerHTML = `
                    <div class="contact-name">${contact.name}</div>
                    <div class="contact-phone">${contact.phone}</div>
                `;
                contactItem.addEventListener('click', function () {
                    // Remove selection from all contacts
                    document.querySelectorAll('.contact-item').forEach(item => {
                        item.classList.remove('selected');
                    });
                    // Select this contact
                    this.classList.add('selected');
                    selectedContact = contact;
                });
                contactsList.appendChild(contactItem);
            });

            // Show the modal
            contactsModal.style.display = 'flex';
            selectedContact = null;
        }

        // Close contacts modal
        function closeContactsModalFunc() {
            contactsModal.style.display = 'none';
            selectedContact = null;
        }

        // Confirm contact selection
        function confirmContactSelectionFunc() {
            if (selectedContact) {
                // Auto-fill the customer search with selected contact
                document.getElementById('customer-search').value = selectedContact.name;
                closeContactsModalFunc();
                showNotification('Contact selected successfully!', 'success');
            } else {
                showNotification('Please select a contact first', 'error');
            }
        }

        // Show specific section
        function showSection(sectionId) {
            contentSections.forEach(section => {
                section.classList.remove('active');
            });

            const targetSection = document.getElementById(`${sectionId}-section`);
            if (targetSection) {
                targetSection.classList.add('active');

                // Update the header title
                const headerTitle = document.querySelector('.header h1');
                const sectionName = document.querySelector(`[data-section="${sectionId}"] span`).textContent;
                headerTitle.textContent = sectionName;

                // Load section-specific data
                loadSectionData(sectionId);
            }
        }

        // Load section-specific data
        function loadSectionData(sectionId) {
            switch (sectionId) {
                case 'dashboard':
                    updateDashboard();
                    break;
                case 'orders':
                    loadOrdersTable();
                    break;
                case 'purchases':
                    loadPurchasesTable();
                    break;
                case 'shipments':
                    loadShipmentsTable();
                    break;
                case 'inventory':
                    loadInventoryGrid();
                    break;
                case 'payments':
                    loadPaymentsTable();
                    break;
                case 'customers':
                    loadCustomersTable();
                    break;
                case 'analytics':
                    updateAnalytics();
                    break;
                case 'settings':
                    loadSettings();
                    break;
            }
        }

        // Update dashboard with current data
        function updateDashboard() {
            // Calculate totals
            const totalRevenue = businessData.orders.reduce((sum, order) => sum + order.total, 0);
            const totalExpenses = businessData.purchases.reduce((sum, purchase) => sum + (purchase.price * purchase.quantity / businessData.settings.exchangeRate), 0);
            const netProfit = totalRevenue - totalExpenses;
            const transportCosts = businessData.shipments.reduce((sum, shipment) => sum + shipment.cost, 0);

            // Update dashboard cards
            document.getElementById('total-revenue').textContent = formatCurrency(totalRevenue);
            document.getElementById('total-expenses').textContent = formatCurrency(totalExpenses);
            document.getElementById('net-profit').textContent = formatCurrency(netProfit - transportCosts);
            document.getElementById('exchange-rate').textContent = `1 USD = TZS ${businessData.settings.exchangeRate.toLocaleString()}`;
            document.getElementById('rate-date').textContent = new Date().toLocaleDateString();

            // Update profit calculation
            document.getElementById('purchase-cost-display').textContent = formatCurrency(totalExpenses);
            const markupAmount = totalExpenses * (businessData.settings.profitMargin / 100);
            document.getElementById('markup-amount').textContent = formatCurrency(markupAmount);
            document.getElementById('selling-price').textContent = formatCurrency(totalExpenses + markupAmount);
            document.getElementById('transport-costs').textContent = formatCurrency(transportCosts);
            document.getElementById('net-profit-display').textContent = formatCurrency(netProfit - transportCosts);

            // Load recent orders
            loadRecentOrders();
        }

        // Load recent orders for dashboard
        function loadRecentOrders() {
            const tableBody = document.querySelector('#recent-orders-table tbody');
            tableBody.innerHTML = '';

            const recentOrders = businessData.orders.slice(-5).reverse(); // Get last 5 orders

            if (recentOrders.length === 0) {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td colspan="6" style="text-align: center; color: var(--text-light); padding: 32px;">
                        <i class="fas fa-inbox fa-2x" style="margin-bottom: 16px; display: block;"></i>
                        No orders yet. <a href="#" onclick="showSection('orders')" style="color: var(--secondary);">Add your first order</a>
                    </td>
                `;
                tableBody.appendChild(row);
                return;
            }

            recentOrders.forEach(order => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td><strong>${order.id}</strong></td>
                    <td>${order.customerName}</td>
                    <td>${order.items.length} items</td>
                    <td><strong>${formatCurrency(order.total)}</strong></td>
                    <td><span class="status-badge status-${order.status}">${order.status}</span></td>
                    <td>
                        <div class="action-buttons">
                            <button class="action-btn edit-btn" onclick="editOrder('${order.id}')" title="Edit Order">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="action-btn delete-btn" onclick="deleteOrder('${order.id}')" title="Delete Order">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                `;
                tableBody.appendChild(row);
            });
        }

        // Load orders table
        function loadOrdersTable() {
            const tableBody = document.querySelector('#orders-table tbody');
            tableBody.innerHTML = '';

            if (businessData.orders.length === 0) {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td colspan="7" style="text-align: center; color: var(--text-light); padding: 32px;">
                        <i class="fas fa-shopping-bag fa-2x" style="margin-bottom: 16px; display: block;"></i>
                        No orders found. Start by adding your first customer order.
                    </td>
                `;
                tableBody.appendChild(row);
                return;
            }

            businessData.orders.forEach(order => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td><strong>${order.id}</strong></td>
                    <td>${order.customerName}</td>
                    <td>${order.items.length} items</td>
                    <td><strong>${formatCurrency(order.total)}</strong></td>
                    <td>${order.date}</td>
                    <td><span class="status-badge status-${order.status}">${order.status}</span></td>
                    <td>
                        <div class="action-buttons">
                            <button class="action-btn edit-btn" onclick="editOrder('${order.id}')" title="Edit Order">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="action-btn delete-btn" onclick="deleteOrder('${order.id}')" title="Delete Order">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                `;
                tableBody.appendChild(row);
            });
        }

        // Load purchases table
        function loadPurchasesTable() {
            const tableBody = document.querySelector('#purchases-table tbody');
            tableBody.innerHTML = '';

            if (businessData.purchases.length === 0) {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td colspan="7" style="text-align: center; color: var(--text-light); padding: 32px;">
                        <i class="fas fa-shopping-cart fa-2x" style="margin-bottom: 16px; display: block;"></i>
                        No purchases recorded. Add your Kariakoo purchases here.
                    </td>
                `;
                tableBody.appendChild(row);
                return;
            }

            businessData.purchases.forEach(purchase => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${purchase.date}</td>
                    <td><strong>${purchase.item}</strong></td>
                    <td><span class="status-badge status-${purchase.category}">${purchase.category}</span></td>
                    <td>${purchase.quantity}</td>
                    <td><strong>TZS ${purchase.price.toLocaleString()}</strong></td>
                    <td>${purchase.supplier}</td>
                    <td>
                        <div class="action-buttons">
                            <button class="action-btn edit-btn" onclick="editPurchase('${purchase.id}')" title="Edit Purchase">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="action-btn delete-btn" onclick="deletePurchase('${purchase.id}')" title="Delete Purchase">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                `;
                tableBody.appendChild(row);
            });
        }

        // Load shipments table
        function loadShipmentsTable() {
            const tableBody = document.querySelector('#shipments-table tbody');
            tableBody.innerHTML = '';

            if (businessData.shipments.length === 0) {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td colspan="7" style="text-align: center; color: var(--text-light); padding: 32px;">
                        <i class="fas fa-shipping-fast fa-2x" style="margin-bottom: 16px; display: block;"></i>
                        No shipments tracked. Add shipment details here.
                    </td>
                `;
                tableBody.appendChild(row);
                return;
            }

            businessData.shipments.forEach(shipment => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td><strong>${shipment.orderId}</strong></td>
                    <td>${shipment.carrier}</td>
                    <td><code>${shipment.tracking}</code></td>
                    <td>${shipment.date}</td>
                    <td><strong>${formatCurrency(shipment.cost)}</strong></td>
                    <td><span class="status-badge status-${shipment.status}">${shipment.status}</span></td>
                    <td>
                        <div class="action-buttons">
                            <button class="action-btn edit-btn" onclick="editShipment('${shipment.id}')" title="Edit Shipment">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="action-btn delete-btn" onclick="deleteShipment('${shipment.id}')" title="Delete Shipment">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                `;
                tableBody.appendChild(row);
            });
        }

        // Load inventory grid
        function loadInventoryGrid() {
            const inventoryGrid = document.getElementById('inventory-grid');
            inventoryGrid.innerHTML = '';

            if (businessData.inventory.length === 0) {
                inventoryGrid.innerHTML = `
                    <div style="grid-column: 1/-1; text-align: center; color: var(--text-light); padding: 48px;">
                        <i class="fas fa-boxes fa-3x" style="margin-bottom: 24px; display: block;"></i>
                        <h3>No inventory items</h3>
                        <p>Your inventory will appear here once you add items.</p>
                    </div>
                `;
                return;
            }

            businessData.inventory.forEach(item => {
                const inventoryItem = document.createElement('div');
                inventoryItem.className = `inventory-item ${item.quantity < 10 ? 'low-stock' : ''}`;
                inventoryItem.innerHTML = `
                    <h4>${item.name}</h4>
                    <div class="inventory-meta">
                        <span><strong>Category:</strong> ${item.category}</span>
                        <span><strong>Stock:</strong> ${item.quantity}</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: ${Math.min(item.quantity / 50 * 100, 100)}%"></div>
                    </div>
                    <div class="inventory-meta" style="margin-top: 12px;">
                        <span><strong>Cost:</strong> ${formatCurrency(item.cost)}</span>
                        <span><strong>Value:</strong> ${formatCurrency(item.value)}</span>
                    </div>
                    ${item.quantity < 10 ? '<div style="color: var(--error); font-size: 0.875rem; margin-top: 8px;"><i class="fas fa-exclamation-triangle"></i> Low Stock</div>' : ''}
                `;
                inventoryGrid.appendChild(inventoryItem);
            });
        }

        // Load payments table
        function loadPaymentsTable() {
            const tableBody = document.querySelector('#payments-table tbody');
            tableBody.innerHTML = '';

            if (businessData.payments.length === 0) {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td colspan="6" style="text-align: center; color: var(--text-light); padding: 32px;">
                        <i class="fas fa-money-bill-wave fa-2x" style="margin-bottom: 16px; display: block;"></i>
                        No payments recorded. Track your payments here.
                    </td>
                `;
                tableBody.appendChild(row);
                return;
            }

            businessData.payments.forEach(payment => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td><strong>${payment.orderId}</strong></td>
                    <td><strong>${formatCurrency(payment.amount)}</strong></td>
                    <td><span class="status-badge status-${payment.method}">${payment.method}</span></td>
                    <td>${payment.date}</td>
                    <td><span class="status-badge status-${payment.status}">${payment.status}</span></td>
                    <td>
                        <div class="action-buttons">
                            <button class="action-btn edit-btn" onclick="editPayment('${payment.id}')" title="Edit Payment">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="action-btn delete-btn" onclick="deletePayment('${payment.id}')" title="Delete Payment">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                `;
                tableBody.appendChild(row);
            });
        }

        // Load customers table
        function loadCustomersTable() {
            const tableBody = document.querySelector('#customers-table tbody');
            tableBody.innerHTML = '';

            if (businessData.customers.length === 0) {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td colspan="6" style="text-align: center; color: var(--text-light); padding: 32px;">
                        <i class="fas fa-users fa-2x" style="margin-bottom: 16px; display: block;"></i>
                        No customers added. Build your customer database here.
                    </td>
                `;
                tableBody.appendChild(row);
                return;
            }

            businessData.customers.forEach(customer => {
                const orderCount = businessData.orders.filter(order => order.customerId === customer.id).length;

                const row = document.createElement('tr');
                row.innerHTML = `
                    <td><strong>${customer.name}</strong></td>
                    <td>${customer.phone}</td>
                    <td>${customer.email || '-'}</td>
                    <td>${customer.location}</td>
                    <td><span class="status-badge status-paid">${orderCount}</span></td>
                    <td>
                        <div class="action-buttons">
                            <button class="action-btn edit-btn" onclick="editCustomer('${customer.id}')" title="Edit Customer">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="action-btn delete-btn" onclick="deleteCustomer('${customer.id}')" title="Delete Customer">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                `;
                tableBody.appendChild(row);
            });
        }

        // Update analytics
        function updateAnalytics() {
            const totalOrders = businessData.orders.length;
            const totalRevenue = businessData.orders.reduce((sum, order) => sum + order.total, 0);
            const totalCost = businessData.purchases.reduce((sum, purchase) => sum + (purchase.price * purchase.quantity / businessData.settings.exchangeRate), 0);
            const profitMargin = totalRevenue > 0 ? ((totalRevenue - totalCost) / totalRevenue * 100).toFixed(1) : 0;
            const customerGrowth = businessData.customers.length > 5 ? 8 : businessData.customers.length * 2;

            document.getElementById('total-orders').textContent = totalOrders;
            document.getElementById('revenue-analytics').textContent = formatCurrency(totalRevenue);
            document.getElementById('profit-margin').textContent = `${profitMargin}%`;
            document.getElementById('customer-growth').textContent = `${customerGrowth}%`;
        }

        // Load settings
        function loadSettings() {
            document.getElementById('exchange-rate-setting').value = businessData.settings.exchangeRate;
            document.getElementById('profit-margin-setting').value = businessData.settings.profitMargin;
            document.getElementById('shipping-cost-setting').value = businessData.settings.shippingCost;
            document.getElementById('notifications-toggle').checked = businessData.settings.notifications;
        }

        // Save purchase
        function savePurchase() {
            const item = document.getElementById('purchase-item').value.trim();
            const category = document.getElementById('purchase-category').value;
            const quantity = parseInt(document.getElementById('purchase-quantity').value);
            const price = parseInt(document.getElementById('purchase-price').value);
            const supplier = document.getElementById('purchase-supplier').value.trim();

            if (!item || !quantity || !price || !supplier) {
                showNotification('Please fill in all required fields', 'error');
                return;
            }

            if (quantity <= 0 || price <= 0) {
                showNotification('Quantity and price must be greater than 0', 'error');
                return;
            }

            const newPurchase = {
                id: generateId(),
                date: new Date().toLocaleDateString(),
                item,
                category,
                quantity,
                price,
                supplier
            };

            businessData.purchases.push(newPurchase);

            // Add to inventory
            const existingInventory = businessData.inventory.find(inv => inv.name === item);
            if (existingInventory) {
                existingInventory.quantity += quantity;
                existingInventory.value = existingInventory.quantity * existingInventory.cost;
            } else {
                businessData.inventory.push({
                    id: generateId(),
                    name: item,
                    category,
                    quantity,
                    cost: price / businessData.settings.exchangeRate,
                    value: quantity * (price / businessData.settings.exchangeRate)
                });
            }

            saveData();
            loadPurchasesTable();
            updateDashboard();

            // Clear form
            document.getElementById('purchase-item').value = '';
            document.getElementById('purchase-quantity').value = '';
            document.getElementById('purchase-price').value = '';
            document.getElementById('purchase-supplier').value = '';

            showNotification('Purchase saved successfully!', 'success');
        }

        // Save shipment
        function saveShipment() {
            const orderId = document.getElementById('shipment-order').value.trim();
            const carrier = document.getElementById('shipment-carrier').value;
            const date = document.getElementById('shipment-date').value;
            const cost = parseFloat(document.getElementById('shipment-cost').value);
            const tracking = document.getElementById('shipment-tracking').value.trim();

            if (!orderId || !carrier || !date || !cost || !tracking) {
                showNotification('Please fill in all required fields', 'error');
                return;
            }

            if (cost <= 0) {
                showNotification('Shipping cost must be greater than 0', 'error');
                return;
            }

            const newShipment = {
                id: generateId(),
                orderId,
                carrier,
                date,
                cost,
                tracking,
                status: 'shipped'
            };

            businessData.shipments.push(newShipment);
            saveData();
            loadShipmentsTable();
            updateDashboard();

            // Clear form
            document.getElementById('shipment-order').value = '';
            document.getElementById('shipment-date').value = '';
            document.getElementById('shipment-cost').value = '';
            document.getElementById('shipment-tracking').value = '';

            showNotification('Shipment saved successfully!', 'success');
        }

        // Save payment
        function savePayment() {
            const orderId = document.getElementById('payment-order').value.trim();
            const method = document.getElementById('payment-method').value;
            const amount = parseFloat(document.getElementById('payment-amount').value);
            const date = document.getElementById('payment-date').value;

            if (!orderId || !method || !amount || !date) {
                showNotification('Please fill in all required fields', 'error');
                return;
            }

            if (amount <= 0) {
                showNotification('Payment amount must be greater than 0', 'error');
                return;
            }

            const newPayment = {
                id: generateId(),
                orderId,
                method,
                amount,
                date,
                status: 'completed'
            };

            businessData.payments.push(newPayment);
            saveData();
            loadPaymentsTable();
            updateDashboard();

            // Clear form
            document.getElementById('payment-order').value = '';
            document.getElementById('payment-amount').value = '';
            document.getElementById('payment-date').value = '';

            showNotification('Payment saved successfully!', 'success');
        }

        // Save customer
        function saveCustomer() {
            const name = document.getElementById('customer-name').value.trim();
            const phone = document.getElementById('customer-phone').value.trim();
            const email = document.getElementById('customer-email').value.trim();
            const location = document.getElementById('customer-location').value.trim();

            if (!name || !phone || !location) {
                showNotification('Please fill in name, phone, and location fields', 'error');
                return;
            }

            // Check if customer already exists
            const existingCustomer = businessData.customers.find(c => c.phone === phone);
            if (existingCustomer) {
                showNotification('Customer with this phone number already exists', 'warning');
                return;
            }

            const newCustomer = {
                id: generateId(),
                name,
                phone,
                email,
                location,
                createdDate: new Date().toLocaleDateString()
            };

            businessData.customers.push(newCustomer);
            saveData();
            loadCustomersTable();
            updateAnalytics();

            // Clear form
            document.getElementById('customer-name').value = '';
            document.getElementById('customer-phone').value = '';
            document.getElementById('customer-email').value = '';
            document.getElementById('customer-location').value = '';

            showNotification('Customer saved successfully!', 'success');
        }

        // Save settings
        function saveSettings() {
            const exchangeRate = parseFloat(document.getElementById('exchange-rate-setting').value);
            const profitMargin = parseFloat(document.getElementById('profit-margin-setting').value);
            const shippingCost = parseFloat(document.getElementById('shipping-cost-setting').value);
            const notifications = document.getElementById('notifications-toggle').checked;

            if (!exchangeRate || !profitMargin || exchangeRate <= 0 || profitMargin <= 0) {
                showNotification('Please enter valid exchange rate and profit margin', 'error');
                return;
            }

            businessData.settings.exchangeRate = exchangeRate;
            businessData.settings.profitMargin = profitMargin;
            businessData.settings.shippingCost = shippingCost || 0;
            businessData.settings.notifications = notifications;

            saveData();
            updateDashboard();

            showNotification('Settings saved successfully!', 'success');
        }

        // Export data
        function exportData() {
            const dataStr = JSON.stringify(businessData, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });

            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `afritrade-connect-data-${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);

            showNotification('Data exported successfully!', 'success');
        }

        // Reset data
        function resetData() {
            if (confirm('Are you sure you want to reset all data? This action cannot be undone.')) {
                businessData = {
                    orders: [],
                    purchases: [],
                    shipments: [],
                    inventory: [],
                    payments: [],
                    customers: [],
                    settings: {
                        exchangeRate: 2500,
                        profitMargin: 35,
                        shippingCost: 50,
                        notifications: true,
                        currency: 'usd',
                        theme: 'light'
                    },
                    analytics: {
                        monthlyRevenue: [],
                        topCategories: [],
                        customerGrowth: 0
                    }
                };

                saveData();
                updateDashboard();
                loadSectionData('orders');
                loadSectionData('purchases');
                loadSectionData('shipments');
                loadSectionData('inventory');
                loadSectionData('payments');
                loadSectionData('customers');
                loadSectionData('analytics');
                loadSettings();

                showNotification('All data has been reset', 'warning');
            }
        }

        // Filter orders
        function filterOrders() {
            const filter = document.getElementById('order-status-filter').value;
            const tableBody = document.querySelector('#orders-table tbody');
            const rows = tableBody.querySelectorAll('tr');

            rows.forEach(row => {
                if (filter === 'all') {
                    row.style.display = '';
                } else {
                    const statusCell = row.querySelector('.status-badge');
                    if (statusCell && statusCell.classList.contains(`status-${filter}`)) {
                        row.style.display = '';
                    } else {
                        row.style.display = 'none';
                    }
                }
            });
        }

        // Search customers
        function searchCustomers() {
            const searchTerm = document.getElementById('customer-search').value.toLowerCase();
            const tableBody = document.querySelector('#customers-table tbody');
            const rows = tableBody.querySelectorAll('tr');

            rows.forEach(row => {
                const nameCell = row.cells[0];
                const phoneCell = row.cells[1];
                if (nameCell && phoneCell) {
                    const name = nameCell.textContent.toLowerCase();
                    const phone = phoneCell.textContent.toLowerCase();
                    if (name.includes(searchTerm) || phone.includes(searchTerm)) {
                        row.style.display = '';
                    } else {
                        row.style.display = 'none';
                    }
                }
            });
        }

        // Update currency display
        function updateCurrencyDisplay(currency) {
            businessData.settings.currency = currency;
            saveData();
            updateDashboard();
        }

        // Format currency
        function formatCurrency(amount) {
            if (currentCurrency === 'tzs') {
                return new Intl.NumberFormat('sw-TZ', {
                    style: 'currency',
                    currency: 'TZS'
                }).format(amount * businessData.settings.exchangeRate);
            }
            return new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: 'USD'
            }).format(amount);
        }

        // Generate unique ID
        function generateId() {
            return Date.now().toString(36) + Math.random().toString(36).substr(2);
        }

        // Show notification
        function showNotification(message, type = 'success') {
            notification.className = `notification ${type}`;
            notificationText.textContent = message;
            notification.classList.add('show');

            setTimeout(() => {
                notification.classList.remove('show');
            }, 4000);
        }

        // Save data to localStorage
        function saveData() {
            try {
                localStorage.setItem('afritradeData', JSON.stringify(businessData));
            } catch (error) {
                console.error('Error saving data:', error);
                showNotification('Error saving data. Storage might be full.', 'error');
            }
        }

        // Load data from localStorage
        function loadData() {
            try {
                const savedData = localStorage.getItem('afritradeData');
                if (savedData) {
                    businessData = { ...businessData, ...JSON.parse(savedData) };
                }

                // Initialize sample data if empty
                if (businessData.orders.length === 0 && businessData.customers.length === 0) {
                    initializeSampleData();
                }
            } catch (error) {
                console.error('Error loading data:', error);
                showNotification('Error loading saved data. Starting fresh.', 'warning');
                initializeSampleData();
            }
        }

        // Initialize sample data
        function initializeSampleData() {
            businessData.customers = [
                {
                    id: 'CUST-001',
                    name: 'Tendai Moyo',
                    phone: '+263 77 123 4567',
                    email: 'tendai@example.com',
                    location: 'Harare',
                    createdDate: '2024-01-15'
                },
                {
                    id: 'CUST-002',
                    name: 'Anesu Chidzonga',
                    phone: '+263 71 987 6543',
                    email: 'anesu@example.com',
                    location: 'Bulawayo',
                    createdDate: '2024-01-20'
                },
                {
                    id: 'CUST-003',
                    name: 'Grace Mukamuri',
                    phone: '+263 78 555 9999',
                    email: 'grace@example.com',
                    location: 'Mutare',
                    createdDate: '2024-02-01'
                }
            ];

            businessData.orders = [
                {
                    id: 'ORD-001',
                    customerName: 'Tendai Moyo',
                    items: ['Men\'s Jeans (x2)', 'T-Shirts (x3)'],
                    total: 145.50,
                    date: '2024-02-15',
                    status: 'paid',
                    customerId: 'CUST-001'
                },
                {
                    id: 'ORD-002',
                    customerName: 'Anesu Chidzonga',
                    items: ['Women\'s Dresses (x2)', 'Shoes (x1)'],
                    total: 198.75,
                    date: '2024-02-18',
                    status: 'shipped',
                    customerId: 'CUST-002'
                },
                {
                    id: 'ORD-003',
                    customerName: 'Grace Mukamuri',
                    items: ['Children\'s Clothes (x4)', 'Accessories (x2)'],
                    total: 89.25,
                    date: '2024-02-20',
                    status: 'delivered',
                    customerId: 'CUST-003'
                }
            ];

            businessData.purchases = [
                {
                    id: 'PUR-001',
                    date: '2024-02-10',
                    item: 'Men\'s Jeans',
                    category: 'men',
                    quantity: 10,
                    price: 25000,
                    supplier: 'Kariakoo Wholesale'
                },
                {
                    id: 'PUR-002',
                    date: '2024-02-12',
                    item: 'T-Shirts',
                    category: 'men',
                    quantity: 15,
                    price: 8000,
                    supplier: 'Mwanamboka Stores'
                },
                {
                    id: 'PUR-003',
                    date: '2024-02-14',
                    item: 'Women\'s Dresses',
                    category: 'women',
                    quantity: 8,
                    price: 45000,
                    supplier: 'Fashion Hub Kariakoo'
                }
            ];

            businessData.shipments = [
                {
                    id: 'SHIP-001',
                    orderId: 'ORD-002',
                    carrier: 'DHL',
                    tracking: 'DHL123456789',
                    date: '2024-02-19',
                    cost: 45.00,
                    status: 'shipped'
                }
            ];

            businessData.payments = [
                {
                    id: 'PAY-001',
                    orderId: 'ORD-001',
                    method: 'ecocash',
                    amount: 145.50,
                    date: '2024-02-15',
                    status: 'completed'
                },
                {
                    id: 'PAY-002',
                    orderId: 'ORD-003',
                    method: 'cash',
                    amount: 89.25,
                    date: '2024-02-20',
                    status: 'completed'
                }
            ];

            businessData.inventory = [
                {
                    id: 'INV-001',
                    name: 'Men\'s Jeans',
                    category: 'men',
                    quantity: 8,
                    cost: 10.00,
                    value: 80.00
                },
                {
                    id: 'INV-002',
                    name: 'T-Shirts',
                    category: 'men',
                    quantity: 12,
                    cost: 3.20,
                    value: 38.40
                },
                {
                    id: 'INV-003',
                    name: 'Women\'s Dresses',
                    category: 'women',
                    quantity: 6,
                    cost: 18.00,
                    value: 108.00
                }
            ];

            saveData();
        }

        // Edit functions (placeholders for future implementation)
        function editOrder(id) {
            showNotification('Edit order feature coming soon!', 'warning');
        }

        function deleteOrder(id) {
            if (confirm('Are you sure you want to delete this order?')) {
                businessData.orders = businessData.orders.filter(order => order.id !== id);
                saveData();
                loadOrdersTable();
                updateDashboard();
                showNotification('Order deleted successfully!', 'success');
            }
        }

        function editPurchase(id) {
            showNotification('Edit purchase feature coming soon!', 'warning');
        }

        function deletePurchase(id) {
            if (confirm('Are you sure you want to delete this purchase?')) {
                businessData.purchases = businessData.purchases.filter(purchase => purchase.id !== id);
                saveData();
                loadPurchasesTable();
                updateDashboard();
                showNotification('Purchase deleted successfully!', 'success');
            }
        }

        function editShipment(id) {
            showNotification('Edit shipment feature coming soon!', 'warning');
        }

        function deleteShipment(id) {
            if (confirm('Are you sure you want to delete this shipment?')) {
                businessData.shipments = businessData.shipments.filter(shipment => shipment.id !== id);
                saveData();
                loadShipmentsTable();
                updateDashboard();
                showNotification('Shipment deleted successfully!', 'success');
            }
        }

        function editPayment(id) {
            showNotification('Edit payment feature coming soon!', 'warning');
        }

        function deletePayment(id) {
            if (confirm('Are you sure you want to delete this payment?')) {
                businessData.payments = businessData.payments.filter(payment => payment.id !== id);
                saveData();
                loadPaymentsTable();
                updateDashboard();
                showNotification('Payment deleted successfully!', 'success');
            }
        }

        function editCustomer(id) {
            showNotification('Edit customer feature coming soon!', 'warning');
        }

        function deleteCustomer(id) {
            if (confirm('Are you sure you want to delete this customer?')) {
                businessData.customers = businessData.customers.filter(customer => customer.id !== id);
                saveData();
                loadCustomersTable();
                updateAnalytics();
                showNotification('Customer deleted successfully!', 'success');
            }
        }

        // Keyboard shortcuts
        document.addEventListener('keydown', function (e) {
            if (e.ctrlKey || e.metaKey) {
                switch (e.key) {
                    case 's':
                        e.preventDefault();
                        saveData();
                        showNotification('Data saved!', 'success');
                        break;
                    case 'e':
                        e.preventDefault();
                        exportData();
                        break;
                }
            }
        });

        // Auto-save every 30 seconds
        setInterval(() => {
            saveData();
        }, 30000);

        // Handle page visibility change
        document.addEventListener('visibilitychange', function () {
            if (document.visibilityState === 'hidden') {
                saveData();
            }
        });

        // Handle before unload
        window.addEventListener('beforeunload', function () {
            saveData();
        });
    </script>
</body>

</html>
